{"remainingRequest":"/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/node_modules/@rancher/shell/components/AppModal.vue?vue&type=script&lang=ts","dependencies":[{"path":"/app/node_modules/@rancher/shell/components/AppModal.vue","mtime":1764054237091},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1764054259024},{"path":"/app/node_modules/thread-loader/dist/cjs.js","mtime":1764054259111},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1764054258910},{"path":"/app/node_modules/ts-loader/index.js","mtime":1764054259329},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1764054259024},{"path":"/app/node_modules/vue-loader/lib/index.js","mtime":1764054260995}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCB9IGZyb20gJ3Z1ZSc7CgpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIG5hbWU6ICAgICAgICAgJ0FwcE1vZGFsJywKICBpbmhlcml0QXR0cnM6IGZhbHNlLAogIHByb3BzOiAgICAgICAgewogICAgLyoqCiAgICAgKiBJZiBzZXQgdG8gZmFsc2UsIGl0IHdpbGwgbm90IGJlIHBvc3NpYmxlIHRvIGNsb3NlIG1vZGFsIGJ5IGNsaWNraW5nIG9uCiAgICAgKiB0aGUgYmFja2dyb3VuZCBvciBieSBwcmVzc2luZyBFc2Mga2V5LgogICAgICovCiAgICBjbGlja1RvQ2xvc2U6IHsKICAgICAgdHlwZTogICAgQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZSwKICAgIH0sCiAgICAvKioKICAgICAqIFdpZHRoIGluIHBpeGVscyBvciBwZXJjZW50cyAoNTAsICI1MHB4IiwgIjUwJSIpLgogICAgICoKICAgICAqIFN1cHBvcnRlZCBzdHJpbmcgdmFsdWVzIGFyZSA8bnVtYmVyPiUgYW5kIDxudW1iZXI+cHgKICAgICAqLwogICAgd2lkdGg6IHsKICAgICAgdHlwZTogICAgW051bWJlciwgU3RyaW5nXSwKICAgICAgZGVmYXVsdDogNjAwLAogICAgICB2YWxpZGF0b3IodmFsdWUpIHsKICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykgewogICAgICAgICAgcmV0dXJuIHZhbHVlID4gMDsKICAgICAgICB9CgogICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICByZXR1cm4gL14oMCooPzpbMS05XVswLTldKnwwKVwuP1xkKikrKHB4fCUpJC8udGVzdCh2YWx1ZSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICAvKioKICAgICAqIExpc3Qgb2YgY2xhc3MgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIG1vZGFsIHdpbmRvdwogICAgICovCiAgICBjdXN0b21DbGFzczogewogICAgICB0eXBlOiAgICBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnLAogICAgfSwKICAgIC8qKgogICAgICogU3R5bGUgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIG1vZGFsIHdpbmRvdwogICAgICovCiAgICBzdHlsZXM6IHsKICAgICAgdHlwZTogICAgU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJywKICAgIH0sCiAgICAvKioKICAgICAqIE5hbWUgb2YgdGhlIG1vZGFsCiAgICAgKi8KICAgIG5hbWU6IHsKICAgICAgdHlwZTogICAgU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJywKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBtb2RhbFdpZHRoKCk6IHN0cmluZyB7CiAgICAgIGNvbnN0IHVvbSA9IHR5cGVvZiAodGhpcy53aWR0aCkgPT09ICdudW1iZXInID8gJ3B4JyA6ICcnOwoKICAgICAgcmV0dXJuIGAkeyB0aGlzLndpZHRoIH0keyB1b20gfWA7CiAgICB9LAogICAgc3R5bGVzUHJvcFRvT2JqKCk6IG9iamVjdCB7CiAgICAgIHJldHVybiB0aGlzLnN0eWxlcy5zcGxpdCgnOycpCiAgICAgICAgLm1hcCgobGluZSkgPT4gbGluZS50cmltKCkuc3BsaXQoJzonKSkKICAgICAgICAucmVkdWNlKChsaW5lcywgW2tleSwgdmFsXSkgPT4gewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgLi4ubGluZXMsCiAgICAgICAgICAgIFtrZXldOiB2YWwKICAgICAgICAgIH07CiAgICAgICAgfSwgeyB9KTsKICAgIH0sCiAgICBtb2RhbFN0eWxlcygpOiBvYmplY3QgewogICAgICByZXR1cm4gewogICAgICAgIHdpZHRoOiB0aGlzLm1vZGFsV2lkdGgsCiAgICAgICAgLi4udGhpcy5zdHlsZXNQcm9wVG9PYmosCiAgICAgIH07CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlRXNjYXBlS2V5KTsKICB9LAogIGJlZm9yZURlc3Ryb3koKSB7CiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5oYW5kbGVFc2NhcGVLZXkpOwogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlQ2xpY2tPdXRzaWRlKGV2ZW50OiBNb3VzZUV2ZW50KSB7CiAgICAgIGlmICgKICAgICAgICB0aGlzLmNsaWNrVG9DbG9zZSAmJgogICAgICAgIHRoaXMuJHJlZnMubW9kYWxSZWYgJiYKICAgICAgICAhKHRoaXMuJHJlZnMubW9kYWxSZWYgYXMgSFRNTEVsZW1lbnQpLmNvbnRhaW5zKGV2ZW50LnRhcmdldCBhcyBOb2RlKQogICAgICApIHsKICAgICAgICB0aGlzLiRlbWl0KCdjbG9zZScpOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlRXNjYXBlS2V5KGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7CiAgICAgIGlmICh0aGlzLmNsaWNrVG9DbG9zZSAmJiBldmVudC5rZXkgPT09ICdFc2NhcGUnKSB7CiAgICAgICAgdGhpcy4kZW1pdCgnY2xvc2UnKTsKICAgICAgfQogICAgfQogIH0KfSk7Cg=="},{"version":3,"sources":["AppModal.vue"],"names":[],"mappings":";AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AppModal.vue","sourceRoot":"../../node_modules/@rancher/shell/components","sourcesContent":["<script lang=\"ts\">\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  name:         'AppModal',\n  inheritAttrs: false,\n  props:        {\n    /**\n     * If set to false, it will not be possible to close modal by clicking on\n     * the background or by pressing Esc key.\n     */\n    clickToClose: {\n      type:    Boolean,\n      default: true,\n    },\n    /**\n     * Width in pixels or percents (50, \"50px\", \"50%\").\n     *\n     * Supported string values are <number>% and <number>px\n     */\n    width: {\n      type:    [Number, String],\n      default: 600,\n      validator(value) {\n        if (typeof value === 'number') {\n          return value > 0;\n        }\n\n        if (typeof value === 'string') {\n          return /^(0*(?:[1-9][0-9]*|0)\\.?\\d*)+(px|%)$/.test(value);\n        }\n\n        return false;\n      }\n    },\n    /**\n     * List of class that will be applied to the modal window\n     */\n    customClass: {\n      type:    String,\n      default: '',\n    },\n    /**\n     * Style that will be applied to the modal window\n     */\n    styles: {\n      type:    String,\n      default: '',\n    },\n    /**\n     * Name of the modal\n     */\n    name: {\n      type:    String,\n      default: '',\n    }\n  },\n  computed: {\n    modalWidth(): string {\n      const uom = typeof (this.width) === 'number' ? 'px' : '';\n\n      return `${ this.width }${ uom }`;\n    },\n    stylesPropToObj(): object {\n      return this.styles.split(';')\n        .map((line) => line.trim().split(':'))\n        .reduce((lines, [key, val]) => {\n          return {\n            ...lines,\n            [key]: val\n          };\n        }, { });\n    },\n    modalStyles(): object {\n      return {\n        width: this.modalWidth,\n        ...this.stylesPropToObj,\n      };\n    }\n  },\n  mounted() {\n    document.addEventListener('keydown', this.handleEscapeKey);\n  },\n  beforeDestroy() {\n    document.removeEventListener('keydown', this.handleEscapeKey);\n  },\n  methods: {\n    handleClickOutside(event: MouseEvent) {\n      if (\n        this.clickToClose &&\n        this.$refs.modalRef &&\n        !(this.$refs.modalRef as HTMLElement).contains(event.target as Node)\n      ) {\n        this.$emit('close');\n      }\n    },\n    handleEscapeKey(event: KeyboardEvent) {\n      if (this.clickToClose && event.key === 'Escape') {\n        this.$emit('close');\n      }\n    }\n  }\n});\n</script>\n\n<template>\n  <mounting-portal\n    mountTo=\"#modals\"\n    name=\"source\"\n    append\n  >\n    <transition\n      name=\"modal-fade\"\n      appear\n    >\n      <div\n        class=\"modal-overlay\"\n        :data-modal=\"name\"\n        @click=\"handleClickOutside\"\n      >\n        <div\n          v-bind=\"$attrs\"\n          ref=\"modalRef\"\n          :class=\"customClass\"\n          class=\"modal-container\"\n          :style=\"modalStyles\"\n          @click.stop\n        >\n          <slot><!--Empty content--></slot>\n        </div>\n      </div>\n    </transition>\n  </mounting-portal>\n</template>\n\n<style lang=\"scss\">\n  .modal-overlay {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    background-color: var(--overlay-bg);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    z-index: 20;\n\n    .modal-container {\n      background-color: var(--modal-bg);\n      border-radius: var(--border-radius);\n      max-height: 95vh;\n      overflow: auto;\n      border: 2px solid var(--modal-border);\n    }\n  }\n\n  .modal-fade-enter-active,\n  .modal-fade-leave-active {\n    transition: opacity 200ms;\n  }\n\n  .modal-fade-enter,\n  .modal-fade-leave-to {\n    opacity: 0;\n  }\n</style>\n"]}]}