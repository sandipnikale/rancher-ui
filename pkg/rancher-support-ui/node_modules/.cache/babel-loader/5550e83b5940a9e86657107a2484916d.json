{"remainingRequest":"/app/node_modules/thread-loader/dist/cjs.js!/app/node_modules/babel-loader/lib/index.js!/app/node_modules/@rancher/shell/utils/error.js","dependencies":[{"path":"/app/node_modules/@rancher/shell/utils/error.js","mtime":1764054237091},{"path":"/app/pkg/rancher-support-ui/babel.config.js","mtime":1764051174054},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1764054259024},{"path":"/app/node_modules/thread-loader/dist/cjs.js","mtime":1764054259111},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1764054258910}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KGUsIHIsIHQpIHsgcmV0dXJuIChyID0gX3RvUHJvcGVydHlLZXkocikpIGluIGUgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgeyB2YWx1ZTogdCwgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCB9KSA6IGVbcl0gPSB0LCBlOyB9CmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgInN0cmluZyIpOyByZXR1cm4gInN5bWJvbCIgPT0gdHlwZW9mIGkgPyBpIDogaSArICIiOyB9CmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7IGlmICgib2JqZWN0IiAhPSB0eXBlb2YgdCB8fCAhdCkgcmV0dXJuIHQ7IHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAodm9pZCAwICE9PSBlKSB7IHZhciBpID0gZS5jYWxsKHQsIHIgfHwgImRlZmF1bHQiKTsgaWYgKCJvYmplY3QiICE9IHR5cGVvZiBpKSByZXR1cm4gaTsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKTsgfSByZXR1cm4gKCJzdHJpbmciID09PSByID8gU3RyaW5nIDogTnVtYmVyKSh0KTsgfQppbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnQHNoZWxsL3V0aWxzL2FycmF5JzsKZXhwb3J0IGNsYXNzIENsdXN0ZXJOb3RGb3VuZEVycm9yIGV4dGVuZHMgRXJyb3IgewogIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHsKICAgIHN1cGVyKG1lc3NhZ2UpOwogICAgdGhpcy5uYW1lID0gQ2x1c3Rlck5vdEZvdW5kRXJyb3IubmFtZTsKICB9Cn0KCi8qKgogKiBBbiBlcnJvciBvY2N1cnJlZCBhbmQgdGhlIHVzZXIgc2hvdWxkIGJlIHJlZGlyZWN0ZWQgdG8gYSBjZXJ0YWluIGxvY2F0aW9uICh3aGVyZSB0aGlzIGlzIGhhbmRsZWQpCiAqLwpfZGVmaW5lUHJvcGVydHkoQ2x1c3Rlck5vdEZvdW5kRXJyb3IsICJuYW1lIiwgJ0NsdXN0ZXJOb3RGb3VuZEVycm9yJyk7CmV4cG9ydCBjbGFzcyBSZWRpcmVjdFRvRXJyb3IgZXh0ZW5kcyBFcnJvciB7CiAgY29uc3RydWN0b3IobWVzc2FnZSwgdXJsKSB7CiAgICBzdXBlcihtZXNzYWdlKTsKICAgIHRoaXMudXJsID0gdXJsOwogICAgdGhpcy5uYW1lID0gUmVkaXJlY3RUb0Vycm9yLm5hbWU7CiAgfQp9Cl9kZWZpbmVQcm9wZXJ0eShSZWRpcmVjdFRvRXJyb3IsICJuYW1lIiwgJ1JlZGlyZWN0VG9FcnJvcicpOwpleHBvcnQgY2xhc3MgQXBpRXJyb3IgZXh0ZW5kcyBFcnJvciB7CiAgY29uc3RydWN0b3IocmVzKSB7CiAgICBzdXBlcihzdHJpbmdpZnkocmVzKSk7CiAgICB0aGlzLnN0YXR1cyA9IHJlcy5fc3RhdHVzIHx8IDA7CiAgICB0aGlzLnN0YXR1c1RleHQgPSByZXMuX3N0YXR1c1RleHQ7CiAgICB0aGlzLmhlYWRlcnMgPSByZXMuaGVhZGVyczsKICAgIHRoaXMudXJsID0gcmVzLl91cmw7CiAgfQogIHRvU3RyaW5nKCkgewogICAgcmV0dXJuIGBbJHt0aGlzLnN0YXR1c30gJHt0aGlzLnN0YXR1c1RleHR9XTogJHt0aGlzLm1lc3NhZ2V9YDsKICB9CiAgdG9KU09OKCkgewogICAgcmV0dXJuIHsKICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cywKICAgICAgc3RhdHVzVGV4dDogdGhpcy5zdGF0dXNUZXh0LAogICAgICBtZXNzYWdlOiB0aGlzLnN0YXR1c01lc3NhZ2UsCiAgICAgIHVybDogdGhpcy51cmwKICAgIH07CiAgfQp9CmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdpZnkoZXJyKSB7CiAgbGV0IHN0cjsKICBpZiAodHlwZW9mIGVyciA9PT0gJ3N0cmluZycpIHsKICAgIHN0ciA9IGVycjsKICB9IGVsc2UgaWYgKGVyciAmJiB0eXBlb2YgZXJyID09PSAnb2JqZWN0JykgewogICAgaWYgKGVyci5tZXNzYWdlKSB7CiAgICAgIHN0ciA9IGVyci5tZXNzYWdlOwogICAgICBpZiAodHlwZW9mIHN0ciA9PT0gJ3N0cmluZycpIHsKICAgICAgICB0cnkgewogICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2Uoc3RyKS5kYXRhOwogICAgICAgICAgaWYgKGRhdGEpIHsKICAgICAgICAgICAgcmV0dXJuIGRhdGE7CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCB7fQogICAgICB9CiAgICAgIGlmIChlcnIuZGV0YWlsKSB7CiAgICAgICAgaWYgKHN0cikgewogICAgICAgICAgc3RyICs9IGAgKCR7ZXJyLmRldGFpbH0pYDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc3RyID0gZXJyLmRldGFpbDsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSBpZiAoZXJyLmRldGFpbCkgewogICAgICBzdHIgPSBlcnIuZGV0YWlsOwogICAgfSBlbHNlIGlmIChlcnIudXJsKSB7CiAgICAgIHN0ciA9IGBmcm9tICR7ZXJyLnVybH1gOwogICAgfQogIH0KICBpZiAoIXN0cikgewogICAgLy8gR29vZCBsdWNrLi4uCiAgICBzdHIgPSBKU09OLnN0cmluZ2lmeShlcnIpOwogIH0KICByZXR1cm4gc3RyOwp9CmV4cG9ydCBmdW5jdGlvbiBleGNlcHRpb25Ub0Vycm9yc0FycmF5KGVycikgewogIHZhciBfZXJyJHJlc3BvbnNlOwogIGlmIChlcnIgIT09IG51bGwgJiYgZXJyICE9PSB2b2lkIDAgJiYgKF9lcnIkcmVzcG9uc2UgPSBlcnIucmVzcG9uc2UpICE9PSBudWxsICYmIF9lcnIkcmVzcG9uc2UgIT09IHZvaWQgMCAmJiBfZXJyJHJlc3BvbnNlLmRhdGEpIHsKICAgIGNvbnN0IGJvZHkgPSBlcnIucmVzcG9uc2UuZGF0YTsKICAgIGlmIChib2R5ICYmIGJvZHkubWVzc2FnZSkgewogICAgICByZXR1cm4gW2JvZHkubWVzc2FnZV07CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gW2Vycl07CiAgICB9CiAgfSBlbHNlIGlmIChlcnIuc3RhdHVzICYmIGVyci5tZXNzYWdlKSB7CiAgICByZXR1cm4gW2Vyci5tZXNzYWdlXTsKICB9IGVsc2UgaWYgKGlzQXJyYXkoZXJyKSkgewogICAgcmV0dXJuIGVycjsKICB9IGVsc2UgewogICAgcmV0dXJuIFtlcnJdOwogIH0KfQoKLyoqCiAqIEltcG9ydGVkIGZyb20gcGF0aC10by1yZWdleHAKICogQHBhcmFtIHsqfSBlcnIKICogQHJldHVybnMKICovCmV4cG9ydCBjb25zdCBub3JtYWxpemVFcnJvciA9IGVyciA9PiB7CiAgbGV0IG1lc3NhZ2U7CiAgaWYgKCEoZXJyLm1lc3NhZ2UgfHwgdHlwZW9mIGVyciA9PT0gJ3N0cmluZycpKSB7CiAgICB0cnkgewogICAgICBtZXNzYWdlID0gSlNPTi5zdHJpbmdpZnkoZXJyLCBudWxsLCAyKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgbWVzc2FnZSA9IGBbJHtlcnIuY29uc3RydWN0b3IubmFtZX1dYDsKICAgIH0KICB9IGVsc2UgewogICAgbWVzc2FnZSA9IGVyci5tZXNzYWdlIHx8IGVycjsKICB9CiAgcmV0dXJuIHsKICAgIC4uLmVyciwKICAgIG1lc3NhZ2UsCiAgICBzdGF0dXNDb2RlOiBlcnIuc3RhdHVzQ29kZSB8fCBlcnIuc3RhdHVzIHx8IGVyci5yZXNwb25zZSAmJiBlcnIucmVzcG9uc2Uuc3RhdHVzIHx8IDUwMAogIH07Cn07"},{"version":3,"names":["isArray","ClusterNotFoundError","Error","constructor","message","name","_defineProperty","RedirectToError","url","ApiError","res","stringify","status","_status","statusText","_statusText","headers","_url","toString","toJSON","type","statusMessage","err","str","data","JSON","parse","detail","exceptionToErrorsArray","_err$response","response","body","normalizeError","e","statusCode"],"sources":["/app/node_modules/@rancher/shell/utils/error.js"],"sourcesContent":["import { isArray } from '@shell/utils/array';\n\nexport class ClusterNotFoundError extends Error {\n  static name = 'ClusterNotFoundError'\n\n  constructor(message) {\n    super(message);\n    this.name = ClusterNotFoundError.name;\n  }\n}\n\n/**\n * An error occurred and the user should be redirected to a certain location (where this is handled)\n */\nexport class RedirectToError extends Error {\n  static name = 'RedirectToError'\n\n  constructor(message, url) {\n    super(message);\n    this.url = url;\n    this.name = RedirectToError.name;\n  }\n}\n\nexport class ApiError extends Error {\n  constructor(res) {\n    super(stringify(res));\n    this.status = res._status || 0;\n    this.statusText = res._statusText;\n    this.headers = res.headers;\n    this.url = res._url;\n  }\n\n  toString() {\n    return `[${ this.status } ${ this.statusText }]: ${ this.message }`;\n  }\n\n  toJSON() {\n    return {\n      type:       'error',\n      status:     this.status,\n      statusText: this.statusText,\n      message:    this.statusMessage,\n      url:        this.url,\n    };\n  }\n}\n\nexport function stringify(err) {\n  let str;\n\n  if ( typeof err === 'string' ) {\n    str = err;\n  } else if ( err && typeof err === 'object' ) {\n    if ( err.message ) {\n      str = err.message;\n\n      if (typeof str === 'string') {\n        try {\n          const data = JSON.parse(str).data;\n\n          if (data) {\n            return data;\n          }\n        } catch {}\n      }\n\n      if ( err.detail ) {\n        if ( str ) {\n          str += ` (${ err.detail })`;\n        } else {\n          str = err.detail;\n        }\n      }\n    } else if ( err.detail ) {\n      str = err.detail;\n    } else if ( err.url ) {\n      str = `from ${ err.url }`;\n    }\n  }\n\n  if (!str) {\n    // Good luck...\n    str = JSON.stringify(err);\n  }\n\n  return str;\n}\n\nexport function exceptionToErrorsArray(err) {\n  if ( err?.response?.data ) {\n    const body = err.response.data;\n\n    if ( body && body.message ) {\n      return [body.message];\n    } else {\n      return [err];\n    }\n  } else if (err.status && err.message) {\n    return [err.message];\n  } else if ( isArray(err) ) {\n    return err;\n  } else {\n    return [err];\n  }\n}\n\n/**\n * Imported from path-to-regexp\n * @param {*} err\n * @returns\n */\nexport const normalizeError = (err) => {\n  let message;\n\n  if (!(err.message || typeof err === 'string')) {\n    try {\n      message = JSON.stringify(err, null, 2);\n    } catch (e) {\n      message = `[${ err.constructor.name }]`;\n    }\n  } else {\n    message = err.message || err;\n  }\n\n  return {\n    ...err,\n    message,\n    statusCode: (err.statusCode || err.status || (err.response && err.response.status) || 500)\n  };\n};\n"],"mappings":"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","ignoreList":[]}]}