{"remainingRequest":"/app/node_modules/thread-loader/dist/cjs.js!/app/node_modules/babel-loader/lib/index.js!/app/node_modules/@rancher/shell/utils/router.js","dependencies":[{"path":"/app/node_modules/@rancher/shell/utils/router.js","mtime":1764054237091},{"path":"/app/pkg/rancher-support-ui/babel.config.js","mtime":1764051174054},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1764054259024},{"path":"/app/node_modules/thread-loader/dist/cjs.js","mtime":1764054259111},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1764054258910}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGZ1bmN0aW9uIHF1ZXJ5UGFyYW1zRm9yKGN1cnJlbnQsIHFwLCBkZWZhdWx0cyA9IHt9KSB7CiAgY29uc3QgcXVlcnkgPSBPYmplY3QuYXNzaWduKHt9LCBjdXJyZW50IHx8IHt9KTsKICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhxcCkpIHsKICAgIGNvbnN0IHZhbCA9IHFwW2tleV07CiAgICBpZiAodHlwZW9mIGRlZmF1bHRzW2tleV0gPT09ICd1bmRlZmluZWQnKSB7CiAgICAgIC8vIFRoZXJlIGlzIG5vIGRlZmF1bHQKICAgICAgcXVlcnlba2V5XSA9IHFwW2tleV07CiAgICB9IGVsc2UgaWYgKGRlZmF1bHRzW2tleV0gPT09IGZhbHNlKSB7CiAgICAgIC8vIFZhbHVlLWxlc3MgYm9vbGVhbiBmbGFncwogICAgICBpZiAodmFsKSB7CiAgICAgICAgcXVlcnlba2V5XSA9IG51bGw7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZGVsZXRlIHF1ZXJ5W2tleV07CiAgICAgIH0KICAgIH0gZWxzZSBpZiAodmFsID09PSBkZWZhdWx0c1trZXldKSB7CiAgICAgIC8vIFRoZSB2YWx1ZSBpcyB0aGUgZGVmYXVsdAogICAgICBkZWxldGUgcXVlcnlba2V5XTsKICAgIH0gZWxzZSB7CiAgICAgIC8vIFRoZSB2YWx1ZSBpcyBub3QgdGhlIGRlZmF1bHQKICAgICAgcXVlcnlba2V5XSA9IHZhbDsKICAgIH0KICB9CiAgcmV0dXJuIHF1ZXJ5Owp9CmV4cG9ydCBmdW5jdGlvbiBnZXRDbHVzdGVyRnJvbVJvdXRlKHRvKSB7CiAgdmFyIF90byRwYXJhbXM7CiAgbGV0IGNsdXN0ZXIgPSAoX3RvJHBhcmFtcyA9IHRvLnBhcmFtcykgPT09IG51bGwgfHwgX3RvJHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RvJHBhcmFtcy5jbHVzdGVyOwogIGlmICghY2x1c3RlcikgewogICAgY2x1c3RlciA9IGZpbmRNZXRhKHRvLCAnY2x1c3RlcicpOwogIH0KICByZXR1cm4gY2x1c3RlcjsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0UHJvZHVjdEZyb21Sb3V0ZSh0bykgewogIHZhciBfdG8kcGFyYW1zMjsKICBsZXQgcHJvZHVjdCA9IChfdG8kcGFyYW1zMiA9IHRvLnBhcmFtcykgPT09IG51bGwgfHwgX3RvJHBhcmFtczIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90byRwYXJhbXMyLnByb2R1Y3Q7CiAgaWYgKCFwcm9kdWN0KSB7CiAgICB2YXIgX3RvJG5hbWU7CiAgICBjb25zdCBtYXRjaCA9IChfdG8kbmFtZSA9IHRvLm5hbWUpID09PSBudWxsIHx8IF90byRuYW1lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdG8kbmFtZS5tYXRjaCgvXmMtY2x1c3Rlci0oW14tXSspLyk7CiAgICBpZiAobWF0Y2gpIHsKICAgICAgcHJvZHVjdCA9IG1hdGNoWzFdOwogICAgfQogIH0KCiAgLy8gSWYgc3RpbGwgbm8gcHJvZHVjdCwgc2VlIGlmIHRoZSByb3V0ZSBpbmRpY2F0ZXMgdGhlIHByb2R1Y3QgdmlhIHJvdXRlIG1ldGFkYXRhCiAgaWYgKCFwcm9kdWN0KSB7CiAgICBwcm9kdWN0ID0gZmluZE1ldGEodG8sICdwcm9kdWN0Jyk7CiAgfQogIHJldHVybiBwcm9kdWN0Owp9CmV4cG9ydCBjb25zdCBnZXRQYWNrYWdlRnJvbVJvdXRlID0gcm91dGUgPT4gewogIHZhciBfYXJyYXlTYWZlJGZpbmQ7CiAgaWYgKCEocm91dGUgIT09IG51bGwgJiYgcm91dGUgIT09IHZvaWQgMCAmJiByb3V0ZS5tZXRhKSkgewogICAgcmV0dXJuOwogIH0KICAvLyBTb21ldGltZXMgbWV0YSBpcyBhbiBhcnJheS4uLiBzb21ldGltZXMgbm90CiAgY29uc3QgYXJyYXlTYWZlID0gQXJyYXkuaXNBcnJheShyb3V0ZS5tZXRhKSA/IHJvdXRlLm1ldGEgOiBbcm91dGUubWV0YV07CiAgcmV0dXJuIChfYXJyYXlTYWZlJGZpbmQgPSBhcnJheVNhZmUuZmluZChtID0+ICEhbS5wa2cpKSA9PT0gbnVsbCB8fCBfYXJyYXlTYWZlJGZpbmQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hcnJheVNhZmUkZmluZC5wa2c7Cn07CmV4cG9ydCBjb25zdCBnZXRSZXNvdXJjZUZyb21Sb3V0ZSA9IHRvID0+IHsKICB2YXIgX3RvJHBhcmFtczM7CiAgbGV0IHJlc291cmNlID0gKF90byRwYXJhbXMzID0gdG8ucGFyYW1zKSA9PT0gbnVsbCB8fCBfdG8kcGFyYW1zMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RvJHBhcmFtczMucmVzb3VyY2U7CiAgaWYgKCFyZXNvdXJjZSkgewogICAgcmVzb3VyY2UgPSBmaW5kTWV0YSh0bywgJ3Jlc291cmNlJyk7CiAgfQogIHJldHVybiByZXNvdXJjZTsKfTsKCi8qKgogKiBHaXZlbiBhIHJvdXRlIGl0IHdpbGwgbG9vayB0aHJvdWdoIHRoZSBtYXRjaGluZyBwYXJlbnQgcm91dGVzIHRvIHNlZSBpZiBhbnkgbWF0Y2ggdGhlIGZuIChwcmVkaWNhdGUpIGNyaXRlcmlhCiAqCiAqIEBwYXJhbSB7Kn0gdG8gYSBWdWVSb3V0ZXIgUm91dGUgb2JqZWN0CiAqIEBwYXJhbSB7Kn0gZm4gZm4gaXMgYSBwcmVkaWNhdGUgd2hpY2ggaXMgcGFzc2VkIGEgbWF0Y2hlZCByb3V0ZS4gSXQgd2lsbCByZXR1cm4gdHJ1ZSB0byBpbmRpY2F0ZSB0aGVyZSB3YXMgYSBtYXRjaGluZyByb3V0ZSBhbmQgZmFsc2Ugb3RoZXJ3aXNlCiAqIEByZXR1cm5zIHRydWUgaWYgYSBtYXRjaGluZyByb3V0ZSB3YXMgZm91bmQsIGZhbHNlIG90aGVyd2lzZQogKi8KZXhwb3J0IGNvbnN0IHJvdXRlTWF0Y2hlZCA9ICh0bywgZm4pID0+IHsKICBjb25zdCBtYXRjaGVkID0gKHRvID09PSBudWxsIHx8IHRvID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0by5tYXRjaGVkKSB8fCBbXTsKICByZXR1cm4gISFtYXRjaGVkLmZpbmQoZm4pOwp9OwoKLyoqCiAqIENoZWNrcyB0byBzZWUgaWYgdGhlIHJvdXRlIHJlcXVpcmVzIGF1dGhlbnRpY2F0aW9uIGJ5IHRha2luZyBhIGxvb2sgYXQgdGhlIHJvdXRlIGFuZCBpdCdzIHBhcmVudHMgJ21ldGEnIHRvIHNlZSBpZiBpdAogKiBjb250YWlucyB7IHJlcXVpcmVzQXV0aGVudGljYXRpb246IHRydWUgfQogKiBAcGFyYW0geyp9IHRvIGEgVnVlUm91dGVyIFJvdXRlIG9iamVjdAogKiBAcmV0dXJucyB0cnVlIGlmIHRoZSByb3V0ZSByZXF1aXJlcyBhdXRoZW50aWNhdGlvbiwgZmFsc2Ugb3RoZXJ3aXNlCiAqLwpleHBvcnQgY29uc3Qgcm91dGVSZXF1aXJlc0F1dGhlbnRpY2F0aW9uID0gdG8gPT4gewogIHJldHVybiByb3V0ZU1hdGNoZWQodG8sIG1hdGNoZWQgPT4gewogICAgdmFyIF9tYXRjaGVkJG1ldGE7CiAgICByZXR1cm4gKF9tYXRjaGVkJG1ldGEgPSBtYXRjaGVkLm1ldGEpID09PSBudWxsIHx8IF9tYXRjaGVkJG1ldGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9tYXRjaGVkJG1ldGEucmVxdWlyZXNBdXRoZW50aWNhdGlvbjsKICB9KTsKfTsKZnVuY3Rpb24gZmluZE1ldGEocm91dGUsIGtleSkgewogIGlmIChyb3V0ZSAhPT0gbnVsbCAmJiByb3V0ZSAhPT0gdm9pZCAwICYmIHJvdXRlLm1ldGEpIHsKICAgIGNvbnN0IG1ldGEgPSBBcnJheS5pc0FycmF5KHJvdXRlLm1ldGEpID8gcm91dGUubWV0YSA6IFtyb3V0ZS5tZXRhXTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWV0YS5sZW5ndGg7IGkrKykgewogICAgICBpZiAobWV0YVtpXVtrZXldKSB7CiAgICAgICAgcmV0dXJuIG1ldGFbaV1ba2V5XTsKICAgICAgfQogICAgfQogIH0KICByZXR1cm4gdW5kZWZpbmVkOwp9"},{"version":3,"names":["queryParamsFor","current","qp","defaults","query","Object","assign","key","keys","val","getClusterFromRoute","to","_to$params","cluster","params","findMeta","getProductFromRoute","_to$params2","product","_to$name","match","name","getPackageFromRoute","route","_arraySafe$find","meta","arraySafe","Array","isArray","find","m","pkg","getResourceFromRoute","_to$params3","resource","routeMatched","fn","matched","routeRequiresAuthentication","_matched$meta","requiresAuthentication","i","length","undefined"],"sources":["/app/node_modules/@rancher/shell/utils/router.js"],"sourcesContent":["export function queryParamsFor(current, qp, defaults = {}) {\n  const query = Object.assign({}, current || {});\n\n  for ( const key of Object.keys(qp) ) {\n    const val = qp[key];\n\n    if ( typeof defaults[key] === 'undefined' ) {\n      // There is no default\n      query[key] = qp[key];\n    } else if ( defaults[key] === false ) {\n      // Value-less boolean flags\n      if ( val ) {\n        query[key] = null;\n      } else {\n        delete query[key];\n      }\n    } else if ( val === defaults[key] ) {\n      // The value is the default\n      delete query[key];\n    } else {\n      // The value is not the default\n      query[key] = val;\n    }\n  }\n\n  return query;\n}\n\nexport function getClusterFromRoute(to) {\n  let cluster = to.params?.cluster;\n\n  if (!cluster) {\n    cluster = findMeta(to, 'cluster');\n  }\n\n  return cluster;\n}\n\nexport function getProductFromRoute(to) {\n  let product = to.params?.product;\n\n  if ( !product ) {\n    const match = to.name?.match(/^c-cluster-([^-]+)/);\n\n    if ( match ) {\n      product = match[1];\n    }\n  }\n\n  // If still no product, see if the route indicates the product via route metadata\n  if (!product) {\n    product = findMeta(to, 'product');\n  }\n\n  return product;\n}\n\nexport const getPackageFromRoute = (route) => {\n  if (!route?.meta) {\n    return;\n  }\n  // Sometimes meta is an array... sometimes not\n  const arraySafe = Array.isArray(route.meta) ? route.meta : [route.meta];\n\n  return arraySafe.find((m) => !!m.pkg)?.pkg;\n};\n\nexport const getResourceFromRoute = (to) => {\n  let resource = to.params?.resource;\n\n  if (!resource) {\n    resource = findMeta(to, 'resource');\n  }\n\n  return resource;\n};\n\n/**\n * Given a route it will look through the matching parent routes to see if any match the fn (predicate) criteria\n *\n * @param {*} to a VueRouter Route object\n * @param {*} fn fn is a predicate which is passed a matched route. It will return true to indicate there was a matching route and false otherwise\n * @returns true if a matching route was found, false otherwise\n */\nexport const routeMatched = (to, fn) => {\n  const matched = to?.matched || [];\n\n  return !!matched.find(fn);\n};\n\n/**\n * Checks to see if the route requires authentication by taking a look at the route and it's parents 'meta' to see if it\n * contains { requiresAuthentication: true }\n * @param {*} to a VueRouter Route object\n * @returns true if the route requires authentication, false otherwise\n */\nexport const routeRequiresAuthentication = (to) => {\n  return routeMatched(to, (matched) => matched.meta?.requiresAuthentication);\n};\n\nfunction findMeta(route, key) {\n  if (route?.meta) {\n    const meta = Array.isArray(route.meta) ? route.meta : [route.meta];\n\n    for (let i = 0; i < meta.length; i++) {\n      if (meta[i][key]) {\n        return meta[i][key];\n      }\n    }\n  }\n\n  return undefined;\n}\n"],"mappings":"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","ignoreList":[]}]}