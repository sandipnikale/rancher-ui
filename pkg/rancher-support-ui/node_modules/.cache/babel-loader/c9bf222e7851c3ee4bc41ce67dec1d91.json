{"remainingRequest":"/app/node_modules/thread-loader/dist/cjs.js!/app/node_modules/babel-loader/lib/index.js!/app/node_modules/@rancher/shell/components/SortableTable/paging.js","dependencies":[{"path":"/app/node_modules/@rancher/shell/components/SortableTable/paging.js","mtime":1764054237091},{"path":"/app/pkg/rancher-support-ui/babel.config.js","mtime":1764051174054},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1764054259024},{"path":"/app/node_modules/thread-loader/dist/cjs.js","mtime":1764054259111},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1764054258910}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgUk9XU19QRVJfUEFHRSB9IGZyb20gJ0BzaGVsbC9zdG9yZS9wcmVmcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wdXRlZDogewogICAgdG90YWxSb3dzKCkgewogICAgICBpZiAodGhpcy5leHRlcm5hbFBhZ2luYXRpb25FbmFibGVkKSB7CiAgICAgICAgdmFyIF90aGlzJGV4dGVybmFsUGFnaW5hdDsKICAgICAgICByZXR1cm4gKChfdGhpcyRleHRlcm5hbFBhZ2luYXQgPSB0aGlzLmV4dGVybmFsUGFnaW5hdGlvblJlc3VsdCkgPT09IG51bGwgfHwgX3RoaXMkZXh0ZXJuYWxQYWdpbmF0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRleHRlcm5hbFBhZ2luYXQuY291bnQpIHx8IDA7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyZWRSb3dzLmxlbmd0aDsKICAgIH0sCiAgICBpbmRleEZyb20oKSB7CiAgICAgIHJldHVybiBNYXRoLm1heCgwLCAxICsgdGhpcy5wZXJQYWdlICogKHRoaXMucGFnZSAtIDEpKTsKICAgIH0sCiAgICBpbmRleFRvKCkgewogICAgICByZXR1cm4gTWF0aC5taW4odGhpcy50b3RhbFJvd3MsIHRoaXMuaW5kZXhGcm9tICsgdGhpcy5wZXJQYWdlIC0gMSk7CiAgICB9LAogICAgdG90YWxQYWdlcygpIHsKICAgICAgcmV0dXJuIE1hdGguY2VpbCh0aGlzLnRvdGFsUm93cyAvIHRoaXMucGVyUGFnZSk7CiAgICB9LAogICAgc2hvd1BhZ2luZygpIHsKICAgICAgaWYgKCF0aGlzLnBhZ2luZykgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBjb25zdCBoYXZlUGFnZXMgPSB0aGlzLnRvdGFsUGFnZXMgPiAxOwogICAgICBpZiAodGhpcy5hbHRMb2FkaW5nKSB7CiAgICAgICAgcmV0dXJuIGhhdmVQYWdlczsKICAgICAgfQogICAgICByZXR1cm4gIXRoaXMubG9hZGluZyAmJiBoYXZlUGFnZXM7CiAgICB9LAogICAgcGFnaW5nRGlzcGxheSgpIHsKICAgICAgY29uc3Qgb3B0ID0gewogICAgICAgIC4uLih0aGlzLnBhZ2luZ1BhcmFtcyB8fCB7fSksCiAgICAgICAgY291bnQ6IHRoaXMudG90YWxSb3dzLAogICAgICAgIHBhZ2VzOiB0aGlzLnRvdGFsUGFnZXMsCiAgICAgICAgZnJvbTogdGhpcy5pbmRleEZyb20sCiAgICAgICAgdG86IHRoaXMuaW5kZXhUbwogICAgICB9OwogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1snaTE4bi90J10odGhpcy5wYWdpbmdMYWJlbCwgb3B0KTsKICAgIH0sCiAgICBwYWdlZFJvd3MoKSB7CiAgICAgIGlmICh0aGlzLmV4dGVybmFsUGFnaW5hdGlvbkVuYWJsZWQpIHsKICAgICAgICByZXR1cm4gdGhpcy5yb3dzOwogICAgICB9IGVsc2UgaWYgKHRoaXMucGFnaW5nKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyZWRSb3dzLnNsaWNlKHRoaXMuaW5kZXhGcm9tIC0gMSwgdGhpcy5pbmRleFRvKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdGhpcy5maWx0ZXJlZFJvd3M7CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICBjb25zdCBwZXJQYWdlID0gdGhpcy5nZXRQZXJQYWdlKCk7CiAgICByZXR1cm4gewogICAgICBwYWdlOiAxLAogICAgICBwZXJQYWdlCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIHBhZ2VkUm93cygpIHsKICAgICAgLy8gR28gdG8gdGhlIGxhc3QgcGFnZSBpZiB3ZSBlbmQgdXAgInBhc3QiIHRoZSBsYXN0IHBhZ2UgYmVjYXVzZSB0aGUgdGFibGUgY2hhbmdlZAoKICAgICAgY29uc3QgZnJvbSA9IHRoaXMuaW5kZXhGcm9tOwogICAgICBjb25zdCBsYXN0ID0gdGhpcy50b3RhbFJvd3M7CiAgICAgIGlmICh0aGlzLnRvdGFsUGFnZXMgPiAwICYmIHRoaXMucGFnZSA+IDEgJiYgZnJvbSA+IGxhc3QpIHsKICAgICAgICB0aGlzLnNldFBhZ2UodGhpcy50b3RhbFBhZ2VzKTsKICAgICAgfQogICAgfSwKICAgIHBhZ2UoKSB7CiAgICAgIHRoaXMuZGVib3VuY2VkUGFnaW5hdGlvbkNoYW5nZWQoKTsKICAgIH0sCiAgICBwZXJQYWdlKCkgewogICAgICB0aGlzLmRlYm91bmNlZFBhZ2luYXRpb25DaGFuZ2VkKCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRQZXJQYWdlKCkgewogICAgICAvLyBwZXJQYWdlIGNhbiBub3QgY2hhbmdlIHdoaWxlIHRoZSBsaXN0IGlzIGRpc3BsYXllZAogICAgICBsZXQgb3V0ID0gdGhpcy5yb3dzUGVyUGFnZSB8fCAwOwogICAgICBpZiAob3V0IDw9IDApIHsKICAgICAgICBvdXQgPSBwYXJzZUludCh0aGlzLiRzdG9yZS5nZXR0ZXJzWydwcmVmcy9nZXQnXShST1dTX1BFUl9QQUdFKSwgMTApIHx8IDA7CiAgICAgIH0KCiAgICAgIC8vIFRoaXMgc2hvdWxkIGlkZWFsbHkgbmV2ZXIgaGFwcGVuLCBidXQgdGhlIHByZWZlcmVuY2UgdmFsdWUgY291bGQgYmUgaW52YWxpZCwgc28gcmV0dXJuIHNvbWV0aGluZy4uLgogICAgICBpZiAob3V0IDw9IDApIHsKICAgICAgICBvdXQgPSAxMDsKICAgICAgfQogICAgICByZXR1cm4gb3V0OwogICAgfSwKICAgIHNldFBhZ2UobnVtKSB7CiAgICAgIGlmICh0aGlzLnBhZ2UgPT09IG51bSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLnBhZ2UgPSBudW07CiAgICB9LAogICAgZ29Ub1BhZ2Uod2hpY2gpIHsKICAgICAgbGV0IHBhZ2U7CiAgICAgIHN3aXRjaCAod2hpY2gpIHsKICAgICAgICBjYXNlICdmaXJzdCc6CiAgICAgICAgICBwYWdlID0gMTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ3ByZXYnOgogICAgICAgICAgcGFnZSA9IE1hdGgubWF4KDEsIHRoaXMucGFnZSAtIDEpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnbmV4dCc6CiAgICAgICAgICBwYWdlID0gTWF0aC5taW4odGhpcy50b3RhbFBhZ2VzLCB0aGlzLnBhZ2UgKyAxKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ2xhc3QnOgogICAgICAgICAgcGFnZSA9IHRoaXMudG90YWxQYWdlczsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICAgIHRoaXMuc2V0UGFnZShwYWdlKTsKICAgIH0sCiAgICBnZXRQYWdlQnlSb3cocm93SWQsIGdldFJvd0lkID0geCA9PiB4KSB7CiAgICAgIGNvbnN0IHBvcyA9IHRoaXMuZmlsdGVyZWRSb3dzLm1hcChnZXRSb3dJZCkuaW5kZXhPZihyb3dJZCk7CiAgICAgIGlmIChwb3MgPT09IC0xKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgICAgcmV0dXJuIE1hdGguY2VpbChwb3MgLyB0aGlzLnBlclBhZ2UpOwogICAgfQogIH0KfTs="},{"version":3,"names":["ROWS_PER_PAGE","computed","totalRows","externalPaginationEnabled","_this$externalPaginat","externalPaginationResult","count","filteredRows","length","indexFrom","Math","max","perPage","page","indexTo","min","totalPages","ceil","showPaging","paging","havePages","altLoading","loading","pagingDisplay","opt","pagingParams","pages","from","to","$store","getters","pagingLabel","pagedRows","rows","slice","data","getPerPage","watch","last","setPage","debouncedPaginationChanged","methods","out","rowsPerPage","parseInt","num","goToPage","which","getPageByRow","rowId","getRowId","x","pos","map","indexOf"],"sources":["/app/node_modules/@rancher/shell/components/SortableTable/paging.js"],"sourcesContent":["import { ROWS_PER_PAGE } from '@shell/store/prefs';\n\nexport default {\n  computed: {\n    totalRows() {\n      if (this.externalPaginationEnabled) {\n        return this.externalPaginationResult?.count || 0;\n      }\n\n      return this.filteredRows.length;\n    },\n\n    indexFrom() {\n      return Math.max(0, 1 + this.perPage * (this.page - 1));\n    },\n\n    indexTo() {\n      return Math.min(this.totalRows, this.indexFrom + this.perPage - 1);\n    },\n\n    totalPages() {\n      return Math.ceil(this.totalRows / this.perPage );\n    },\n\n    showPaging() {\n      if (!this.paging) {\n        return false;\n      }\n\n      const havePages = this.totalPages > 1;\n\n      if (this.altLoading) {\n        return havePages;\n      }\n\n      return !this.loading && havePages;\n    },\n\n    pagingDisplay() {\n      const opt = {\n        ...(this.pagingParams || {}),\n\n        count: this.totalRows,\n        pages: this.totalPages,\n        from:  this.indexFrom,\n        to:    this.indexTo,\n      };\n\n      return this.$store.getters['i18n/t'](this.pagingLabel, opt);\n    },\n\n    pagedRows() {\n      if (this.externalPaginationEnabled) {\n        return this.rows;\n      } else if ( this.paging ) {\n        return this.filteredRows.slice(this.indexFrom - 1, this.indexTo);\n      } else {\n        return this.filteredRows;\n      }\n    }\n  },\n\n  data() {\n    const perPage = this.getPerPage();\n\n    return { page: 1, perPage };\n  },\n\n  watch: {\n    pagedRows() {\n      // Go to the last page if we end up \"past\" the last page because the table changed\n\n      const from = this.indexFrom;\n      const last = this.totalRows;\n\n      if ( this.totalPages > 0 && this.page > 1 && from > last ) {\n        this.setPage(this.totalPages);\n      }\n    },\n\n    page() {\n      this.debouncedPaginationChanged();\n    },\n\n    perPage() {\n      this.debouncedPaginationChanged();\n    },\n\n  },\n\n  methods: {\n    getPerPage() {\n      // perPage can not change while the list is displayed\n      let out = this.rowsPerPage || 0;\n\n      if ( out <= 0 ) {\n        out = parseInt(this.$store.getters['prefs/get'](ROWS_PER_PAGE), 10) || 0;\n      }\n\n      // This should ideally never happen, but the preference value could be invalid, so return something...\n      if ( out <= 0 ) {\n        out = 10;\n      }\n\n      return out;\n    },\n\n    setPage(num) {\n      if (this.page === num) {\n        return;\n      }\n\n      this.page = num;\n    },\n\n    goToPage(which) {\n      let page;\n\n      switch (which) {\n      case 'first':\n        page = 1;\n        break;\n      case 'prev':\n        page = Math.max(1, this.page - 1 );\n        break;\n      case 'next':\n        page = Math.min(this.totalPages, this.page + 1 );\n        break;\n      case 'last':\n        page = this.totalPages;\n        break;\n      }\n\n      this.setPage(page);\n    },\n\n    getPageByRow(rowId, getRowId = (x) => x) {\n      const pos = this.filteredRows.map(getRowId).indexOf(rowId);\n\n      if (pos === -1) {\n        return null;\n      }\n\n      return Math.ceil(pos / this.perPage);\n    }\n  }\n};\n"],"mappings":"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","ignoreList":[]}]}