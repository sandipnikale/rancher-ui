{"remainingRequest":"/app/node_modules/thread-loader/dist/cjs.js!/app/node_modules/babel-loader/lib/index.js!/app/node_modules/@rancher/shell/mixins/create-edit-view/impl.js","dependencies":[{"path":"/app/node_modules/@rancher/shell/mixins/create-edit-view/impl.js","mtime":1764054237091},{"path":"/app/pkg/rancher-support-ui/babel.config.js","mtime":1764051174054},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1764054259024},{"path":"/app/node_modules/thread-loader/dist/cjs.js","mtime":1764054259111},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1764054258910}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgX0NSRUFURSwgX0VESVQsIF9WSUVXIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9xdWVyeS1wYXJhbXMnOwppbXBvcnQgeyBMQVNUX05BTUVTUEFDRSB9IGZyb20gJ0BzaGVsbC9zdG9yZS9wcmVmcyc7CmltcG9ydCB7IGV4Y2VwdGlvblRvRXJyb3JzQXJyYXkgfSBmcm9tICdAc2hlbGwvdXRpbHMvZXJyb3InOwppbXBvcnQgQ2hpbGRIb29rLCB7IEJFRk9SRV9TQVZFX0hPT0tTLCBBRlRFUl9TQVZFX0hPT0tTIH0gZnJvbSAnQHNoZWxsL21peGlucy9jaGlsZC1ob29rJzsKaW1wb3J0IHsgY2xlYXIgfSBmcm9tICdAc2hlbGwvdXRpbHMvYXJyYXknOwppbXBvcnQgeyBERUZBVUxUX1dPUktTUEFDRSB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwppbXBvcnQgeyBoYW5kbGVDb25mbGljdCB9IGZyb20gJ0BzaGVsbC9wbHVnaW5zL2Rhc2hib2FyZC1zdG9yZS9ub3JtYWxpemUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NyZWF0ZUVkaXRWaWV3JywKICBtaXhpbnM6IFtDaGlsZEhvb2tdLAogIGRhdGEoKSB7CiAgICAvLyBLZWVwIGxhYmVsIGFuZCBhbm5vdGF0aW9uIGZpbHRlcnMgaW4gZGF0YSBzbyBlYWNoIHJlc291cmNlIENSVUQgcGFnZSBjYW4gYWx0ZXIgaW5kaXZpZHVhbGx5CiAgICByZXR1cm4gewogICAgICBlcnJvcnM6IFtdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlzQ3JlYXRlKCkgewogICAgICByZXR1cm4gdGhpcy5tb2RlID09PSBfQ1JFQVRFOwogICAgfSwKICAgIGlzRWRpdCgpIHsKICAgICAgcmV0dXJuIHRoaXMubW9kZSA9PT0gX0VESVQ7CiAgICB9LAogICAgaXNWaWV3KCkgewogICAgICByZXR1cm4gdGhpcy5tb2RlID09PSBfVklFVzsKICAgIH0sCiAgICBzY2hlbWEoKSB7CiAgICAgIGNvbnN0IGluU3RvcmUgPSB0aGlzLnN0b3JlT3ZlcnJpZGUgfHwgdGhpcy4kc3RvcmUuZ2V0dGVyc1snY3VycmVudFN0b3JlJ10odGhpcy52YWx1ZS50eXBlKTsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbYCR7aW5TdG9yZX0vc2NoZW1hRm9yYF0odGhpcy52YWx1ZS50eXBlKTsKICAgIH0sCiAgICBpc05hbWVzcGFjZWQoKSB7CiAgICAgIHZhciBfdGhpcyRzY2hlbWE7CiAgICAgIHJldHVybiAoKF90aGlzJHNjaGVtYSA9IHRoaXMuc2NoZW1hKSA9PT0gbnVsbCB8fCBfdGhpcyRzY2hlbWEgPT09IHZvaWQgMCB8fCAoX3RoaXMkc2NoZW1hID0gX3RoaXMkc2NoZW1hLmF0dHJpYnV0ZXMpID09PSBudWxsIHx8IF90aGlzJHNjaGVtYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkc2NoZW1hLm5hbWVzcGFjZWQpIHx8IGZhbHNlOwogICAgfSwKICAgIGxhYmVsczogewogICAgICBnZXQoKSB7CiAgICAgICAgdmFyIF90aGlzJHZhbHVlOwogICAgICAgIHJldHVybiAoX3RoaXMkdmFsdWUgPSB0aGlzLnZhbHVlKSA9PT0gbnVsbCB8fCBfdGhpcyR2YWx1ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkdmFsdWUubGFiZWxzOwogICAgICB9LAogICAgICBzZXQobmV1KSB7CiAgICAgICAgdGhpcy52YWx1ZS5zZXRMYWJlbHMobmV1KTsKICAgICAgfQogICAgfSwKICAgIGFubm90YXRpb25zOiB7CiAgICAgIGdldCgpIHsKICAgICAgICB2YXIgX3RoaXMkdmFsdWUyOwogICAgICAgIHJldHVybiAoX3RoaXMkdmFsdWUyID0gdGhpcy52YWx1ZSkgPT09IG51bGwgfHwgX3RoaXMkdmFsdWUyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyR2YWx1ZTIuYW5ub3RhdGlvbnM7CiAgICAgIH0sCiAgICAgIHNldChuZXUpIHsKICAgICAgICB0aGlzLnZhbHVlLnNldEFubm90YXRpb25zKG5ldSk7CiAgICAgIH0KICAgIH0sCiAgICBkb25lUm91dGUoKSB7CiAgICAgIHZhciBfdGhpcyR2YWx1ZTMsIF9uYW1lLCBfbmFtZTI7CiAgICAgIGlmICgoX3RoaXMkdmFsdWUzID0gdGhpcy52YWx1ZSkgIT09IG51bGwgJiYgX3RoaXMkdmFsdWUzICE9PSB2b2lkIDAgJiYgX3RoaXMkdmFsdWUzLmRvbmVSb3V0ZSkgewogICAgICAgIHJldHVybiB0aGlzLnZhbHVlLmRvbmVSb3V0ZTsKICAgICAgfQogICAgICBsZXQgbmFtZSA9IHRoaXMuJHJvdXRlLm5hbWU7CiAgICAgIGlmICgoX25hbWUgPSBuYW1lKSAhPT0gbnVsbCAmJiBfbmFtZSAhPT0gdm9pZCAwICYmIF9uYW1lLmVuZHNXaXRoKCctaWQnKSkgewogICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoLygtbmFtZXNwYWNlKT8taWQkLywgJycpOwogICAgICB9IGVsc2UgaWYgKChfbmFtZTIgPSBuYW1lKSAhPT0gbnVsbCAmJiBfbmFtZTIgIT09IHZvaWQgMCAmJiBfbmFtZTIuZW5kc1dpdGgoJy1jcmVhdGUnKSkgewogICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoLy1jcmVhdGUkLywgJycpOwogICAgICB9CiAgICAgIHJldHVybiBuYW1lOwogICAgfSwKICAgIGRvbmVQYXJhbXMoKSB7CiAgICAgIHZhciBfdGhpcyR2YWx1ZTQ7CiAgICAgIGlmICgoX3RoaXMkdmFsdWU0ID0gdGhpcy52YWx1ZSkgIT09IG51bGwgJiYgX3RoaXMkdmFsdWU0ICE9PSB2b2lkIDAgJiYgX3RoaXMkdmFsdWU0LmRvbmVQYXJhbXMpIHsKICAgICAgICByZXR1cm4gdGhpcy52YWx1ZS5kb25lUGFyYW1zOwogICAgICB9CiAgICAgIGNvbnN0IG91dCA9IHsKICAgICAgICAuLi50aGlzLiRyb3V0ZS5wYXJhbXMKICAgICAgfTsKICAgICAgZGVsZXRlIG91dC5uYW1lc3BhY2U7CiAgICAgIGRlbGV0ZSBvdXQuaWQ7CiAgICAgIHJldHVybiBvdXQ7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBkb25lKCkgewogICAgICBpZiAodGhpcy5kb25lRXZlbnQpIHsKICAgICAgICB0aGlzLiRlbWl0KCdkb25lJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlmICh0aGlzLmRvbmVMb2NhdGlvbk92ZXJyaWRlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlci5yZXBsYWNlKHRoaXMuZG9uZUxvY2F0aW9uT3ZlcnJpZGUpOwogICAgICB9CiAgICAgIGlmICghdGhpcy5kb25lUm91dGUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoewogICAgICAgIG5hbWU6IHRoaXMuZG9uZVJvdXRlLAogICAgICAgIHBhcmFtczogdGhpcy5kb25lUGFyYW1zIHx8IHsKICAgICAgICAgIHJlc291cmNlOiB0aGlzLnZhbHVlLnR5cGUKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIERldGVjdCBhbmQgcmVzb2x2ZSBjb25mbGljdHMgZnJvbSBhIDQwOSByZXNwb25zZS4KICAgIC8vIElmIHRoZXkgYXJlIHJlc29sdmVkLCByZXR1cm4gYSBmYWxzZS15IHZhbHVlCiAgICAvLyBFbHNlIHRoZXkgY2FuJ3QgYmUgcmVzb2x2ZWQsIHJldHVybiBhbiBhcnJheSBvZiBlcnJvcnMgdG8gc2hvdyB0byB0aGUgdXNlci4KICAgIGFzeW5jIGNvbmZsaWN0KCkgewogICAgICByZXR1cm4gYXdhaXQgaGFuZGxlQ29uZmxpY3QodGhpcy5pbml0aWFsVmFsdWUudG9KU09OKCksIHRoaXMudmFsdWUsIHRoaXMubGl2ZVZhbHVlLCB0aGlzLiRzdG9yZS5nZXR0ZXJzLCB0aGlzLiRzdG9yZSwgdGhpcy5zdG9yZU92ZXJyaWRlIHx8IHRoaXMuJHN0b3JlLmdldHRlcnNbJ2N1cnJlbnRTdG9yZSddKHRoaXMudmFsdWUudHlwZSkpOwogICAgfSwKICAgIGFzeW5jIHNhdmUoYnV0dG9uRG9uZSwgdXJsLCBkZXB0aCA9IDApIHsKICAgICAgaWYgKHRoaXMuZXJyb3JzKSB7CiAgICAgICAgY2xlYXIodGhpcy5lcnJvcnMpOwogICAgICB9CiAgICAgIHRyeSB7CiAgICAgICAgdmFyIF90aGlzJHZhbHVlNSwgX3RoaXMkdmFsdWU2OwogICAgICAgIGF3YWl0IHRoaXMuYXBwbHlIb29rcyhCRUZPUkVfU0FWRV9IT09LUywgdGhpcy52YWx1ZSk7CgogICAgICAgIC8vIFJlbW92ZSB0aGUgbGFiZWxzIG1hcCBpZiBpdCdzIGVtcHR5CiAgICAgICAgaWYgKChfdGhpcyR2YWx1ZTUgPSB0aGlzLnZhbHVlKSAhPT0gbnVsbCAmJiBfdGhpcyR2YWx1ZTUgIT09IHZvaWQgMCAmJiAoX3RoaXMkdmFsdWU1ID0gX3RoaXMkdmFsdWU1Lm1ldGFkYXRhKSAhPT0gbnVsbCAmJiBfdGhpcyR2YWx1ZTUgIT09IHZvaWQgMCAmJiBfdGhpcyR2YWx1ZTUubGFiZWxzICYmIE9iamVjdC5rZXlzKHRoaXMudmFsdWUubWV0YWRhdGEubGFiZWxzIHx8IHt9KS5sZW5ndGggPT09IDApIHsKICAgICAgICAgIGRlbGV0ZSB0aGlzLnZhbHVlLm1ldGFkYXRhLmxhYmVsczsKICAgICAgICB9CgogICAgICAgIC8vIFJlbW92ZSB0aGUgYW5ub3RhdGlvbnMgbWFwIGlmIGl0J3MgZW1wdHkKICAgICAgICBpZiAoKF90aGlzJHZhbHVlNiA9IHRoaXMudmFsdWUpICE9PSBudWxsICYmIF90aGlzJHZhbHVlNiAhPT0gdm9pZCAwICYmIChfdGhpcyR2YWx1ZTYgPSBfdGhpcyR2YWx1ZTYubWV0YWRhdGEpICE9PSBudWxsICYmIF90aGlzJHZhbHVlNiAhPT0gdm9pZCAwICYmIF90aGlzJHZhbHVlNi5hbm5vdGF0aW9ucyAmJiBPYmplY3Qua2V5cyh0aGlzLnZhbHVlLm1ldGFkYXRhLmFubm90YXRpb25zIHx8IHt9KS5sZW5ndGggPT09IDApIHsKICAgICAgICAgIGRlbGV0ZSB0aGlzLnZhbHVlLm1ldGFkYXRhLmFubm90YXRpb25zOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5pc0NyZWF0ZSkgewogICAgICAgICAgdmFyIF90aGlzJHZhbHVlNzsKICAgICAgICAgIGNvbnN0IG5zID0gKF90aGlzJHZhbHVlNyA9IHRoaXMudmFsdWUpID09PSBudWxsIHx8IF90aGlzJHZhbHVlNyA9PT0gdm9pZCAwIHx8IChfdGhpcyR2YWx1ZTcgPSBfdGhpcyR2YWx1ZTcubWV0YWRhdGEpID09PSBudWxsIHx8IF90aGlzJHZhbHVlNyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkdmFsdWU3Lm5hbWVzcGFjZTsKCiAgICAgICAgICAvLyBEb24ndCByZW1lbWJlciBmbGVldC1kZWZhdWx0IGFzIGEgdGFyZ2V0IHNpbmNlIHRoZSB1c2VyIGlzbid0IHVzdWFsbHkgcGlja2luZyBpdCBleHBsaWNpdGx5CiAgICAgICAgICBpZiAobnMgJiYgbnMgIT09IERFRkFVTFRfV09SS1NQQUNFKSB7CiAgICAgICAgICAgIHRoaXMudmFsdWUuJGRpc3BhdGNoKCdwcmVmcy9zZXQnLCB7CiAgICAgICAgICAgICAga2V5OiBMQVNUX05BTUVTUEFDRSwKICAgICAgICAgICAgICB2YWx1ZTogbnMKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGF3YWl0IHRoaXMuYWN0dWFsbHlTYXZlKHVybCk7CgogICAgICAgIC8vIElmIHNwb29mZWQgd2UgbmVlZCB0byByZWxvYWQgdGhlIHZhbHVlcyBhcyB0aGUgc2VydmVyIGNhbid0IGhhdmUgd2F0Y2hlcnMgZm9yIHRoZW0uCiAgICAgICAgaWYgKHRoaXMuJHN0b3JlLmdldHRlcnNbJ3R5cGUtbWFwL2lzU3Bvb2ZlZCddKHRoaXMudmFsdWUudHlwZSkpIHsKICAgICAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdjbHVzdGVyL2ZpbmRBbGwnLCB7CiAgICAgICAgICAgIHR5cGU6IHRoaXMudmFsdWUudHlwZSwKICAgICAgICAgICAgb3B0OiB7CiAgICAgICAgICAgICAgZm9yY2U6IHRydWUKICAgICAgICAgICAgfQogICAgICAgICAgfSwgewogICAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgYXdhaXQgdGhpcy5hcHBseUhvb2tzKEFGVEVSX1NBVkVfSE9PS1MsIHRoaXMudmFsdWUpOwogICAgICAgIGJ1dHRvbkRvbmUgJiYgYnV0dG9uRG9uZSh0cnVlKTsKICAgICAgICB0aGlzLmRvbmUoKTsKICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgLy8gQ29uZmxpY3QsIHRoZSByZXNvdXJjZSBiZWluZyBlZGl0ZWQgaGFzIGNoYW5nZWQgc2luY2Ugc3RhcnRpbmcgZWRpdGluZwogICAgICAgIGlmIChlcnIuc3RhdHVzID09PSA0MDkgJiYgZGVwdGggPT09IDAgJiYgdGhpcy5pc0VkaXQpIHsKICAgICAgICAgIGNvbnN0IGVycm9ycyA9IGF3YWl0IHRoaXMuY29uZmxpY3QoKTsKICAgICAgICAgIGlmIChlcnJvcnMgPT09IGZhbHNlKSB7CiAgICAgICAgICAgIC8vIEl0IHdhcyBhdXRvbWF0aWNhbGx5IGZpZ3VyZWQgb3V0LCBzYXZlIGFnYWluCiAgICAgICAgICAgIHJldHVybiB0aGlzLnNhdmUoYnV0dG9uRG9uZSwgdXJsLCBkZXB0aCArIDEpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5lcnJvcnMgPSBlcnJvcnM7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuZXJyb3JzID0gZXhjZXB0aW9uVG9FcnJvcnNBcnJheShlcnIpOwogICAgICAgIH0KICAgICAgICAvLyBQcm92aWRlIGEgc3RhY2sgdHJhY2UgZm9yIGVhc2llciBkZWJ1Z2dpbmcgb2Ygc2F2ZSBlcnJvcnMKICAgICAgICBjb25zb2xlLmVycm9yKCdDcmVhdGVFZGl0VmlldyBtaXhpbiBmYWlsZWQgdG8gc2F2ZTogJywgZXJyKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlCiAgICAgICAgYnV0dG9uRG9uZSAmJiBidXR0b25Eb25lKGZhbHNlKTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIGFjdHVhbGx5U2F2ZSh1cmwpIHsKICAgICAgaWYgKHRoaXMuaXNDcmVhdGUpIHsKICAgICAgICB1cmwgPSB1cmwgfHwgdGhpcy5zY2hlbWEubGlua0ZvcignY29sbGVjdGlvbicpOwogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMudmFsdWUuc2F2ZSh7CiAgICAgICAgICB1cmwKICAgICAgICB9KTsKICAgICAgICBpZiAocmVzKSB7CiAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMudmFsdWUsIHJlcyk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGF3YWl0IHRoaXMudmFsdWUuc2F2ZSgpOwogICAgICB9CiAgICB9LAogICAgc2V0RXJyb3JzKGVycm9ycykgewogICAgICB0aGlzLmVycm9ycyA9IGVycm9yczsKICAgIH0KICB9Cn07"},{"version":3,"names":["_CREATE","_EDIT","_VIEW","LAST_NAMESPACE","exceptionToErrorsArray","ChildHook","BEFORE_SAVE_HOOKS","AFTER_SAVE_HOOKS","clear","DEFAULT_WORKSPACE","handleConflict","name","mixins","data","errors","computed","isCreate","mode","isEdit","isView","schema","inStore","storeOverride","$store","getters","value","type","isNamespaced","_this$schema","attributes","namespaced","labels","get","_this$value","set","neu","setLabels","annotations","_this$value2","setAnnotations","doneRoute","_this$value3","_name","_name2","$route","endsWith","replace","doneParams","_this$value4","out","params","namespace","id","methods","done","doneEvent","$emit","doneLocationOverride","$router","resource","conflict","initialValue","toJSON","liveValue","save","buttonDone","url","depth","_this$value5","_this$value6","applyHooks","metadata","Object","keys","length","_this$value7","ns","$dispatch","key","root","actuallySave","dispatch","opt","force","err","status","console","error","linkFor","res","assign","setErrors"],"sources":["/app/node_modules/@rancher/shell/mixins/create-edit-view/impl.js"],"sourcesContent":["import { _CREATE, _EDIT, _VIEW } from '@shell/config/query-params';\nimport { LAST_NAMESPACE } from '@shell/store/prefs';\nimport { exceptionToErrorsArray } from '@shell/utils/error';\nimport ChildHook, { BEFORE_SAVE_HOOKS, AFTER_SAVE_HOOKS } from '@shell/mixins/child-hook';\nimport { clear } from '@shell/utils/array';\nimport { DEFAULT_WORKSPACE } from '@shell/config/types';\nimport { handleConflict } from '@shell/plugins/dashboard-store/normalize';\n\nexport default {\n\n  name: 'CreateEditView',\n\n  mixins: [ChildHook],\n\n  data() {\n    // Keep label and annotation filters in data so each resource CRUD page can alter individually\n    return { errors: [] };\n  },\n\n  computed: {\n    isCreate() {\n      return this.mode === _CREATE;\n    },\n\n    isEdit() {\n      return this.mode === _EDIT;\n    },\n\n    isView() {\n      return this.mode === _VIEW;\n    },\n\n    schema() {\n      const inStore = this.storeOverride || this.$store.getters['currentStore'](this.value.type);\n\n      return this.$store.getters[`${ inStore }/schemaFor`](this.value.type);\n    },\n\n    isNamespaced() {\n      return this.schema?.attributes?.namespaced || false;\n    },\n\n    labels: {\n      get() {\n        return this.value?.labels;\n      },\n      set(neu) {\n        this.value.setLabels(neu);\n      }\n    },\n\n    annotations: {\n      get() {\n        return this.value?.annotations;\n      },\n      set(neu) {\n        this.value.setAnnotations(neu);\n      }\n    },\n\n    doneRoute() {\n      if ( this.value?.doneRoute ) {\n        return this.value.doneRoute;\n      }\n\n      let name = this.$route.name;\n\n      if ( name?.endsWith('-id') ) {\n        name = name.replace(/(-namespace)?-id$/, '');\n      } else if ( name?.endsWith('-create') ) {\n        name = name.replace(/-create$/, '');\n      }\n\n      return name;\n    },\n\n    doneParams() {\n      if ( this.value?.doneParams ) {\n        return this.value.doneParams;\n      }\n\n      const out = { ...this.$route.params };\n\n      delete out.namespace;\n      delete out.id;\n\n      return out;\n    },\n\n  },\n\n  methods: {\n    done() {\n      if ( this.doneEvent ) {\n        this.$emit('done');\n\n        return;\n      }\n\n      if ( this.doneLocationOverride) {\n        return this.$router.replace(this.doneLocationOverride);\n      }\n\n      if ( !this.doneRoute ) {\n        return;\n      }\n\n      this.$router.replace({\n        name:   this.doneRoute,\n        params: this.doneParams || { resource: this.value.type }\n      });\n    },\n\n    // Detect and resolve conflicts from a 409 response.\n    // If they are resolved, return a false-y value\n    // Else they can't be resolved, return an array of errors to show to the user.\n    async conflict() {\n      return await handleConflict(this.initialValue.toJSON(), this.value, this.liveValue, this.$store.getters, this.$store, this.storeOverride || this.$store.getters['currentStore'](this.value.type));\n    },\n\n    async save(buttonDone, url, depth = 0) {\n      if ( this.errors ) {\n        clear(this.errors);\n      }\n\n      try {\n        await this.applyHooks(BEFORE_SAVE_HOOKS, this.value);\n\n        // Remove the labels map if it's empty\n        if ( this.value?.metadata?.labels && Object.keys(this.value.metadata.labels || {}).length === 0 ) {\n          delete this.value.metadata.labels;\n        }\n\n        // Remove the annotations map if it's empty\n        if ( this.value?.metadata?.annotations && Object.keys(this.value.metadata.annotations || {}).length === 0 ) {\n          delete this.value.metadata.annotations;\n        }\n\n        if ( this.isCreate ) {\n          const ns = this.value?.metadata?.namespace;\n\n          // Don't remember fleet-default as a target since the user isn't usually picking it explicitly\n          if ( ns && ns !== DEFAULT_WORKSPACE ) {\n            this.value.$dispatch('prefs/set', { key: LAST_NAMESPACE, value: ns }, { root: true });\n          }\n        }\n\n        await this.actuallySave(url);\n\n        // If spoofed we need to reload the values as the server can't have watchers for them.\n        if (this.$store.getters['type-map/isSpoofed'](this.value.type)) {\n          await this.$store.dispatch('cluster/findAll', { type: this.value.type, opt: { force: true } }, { root: true });\n        }\n\n        await this.applyHooks(AFTER_SAVE_HOOKS, this.value);\n        buttonDone && buttonDone(true);\n\n        this.done();\n      } catch (err) {\n        // Conflict, the resource being edited has changed since starting editing\n        if ( err.status === 409 && depth === 0 && this.isEdit) {\n          const errors = await this.conflict();\n\n          if ( errors === false ) {\n            // It was automatically figured out, save again\n            return this.save(buttonDone, url, depth + 1);\n          } else {\n            this.errors = errors;\n          }\n        } else {\n          this.errors = exceptionToErrorsArray(err);\n        }\n        // Provide a stack trace for easier debugging of save errors\n        console.error('CreateEditView mixin failed to save: ', err); // eslint-disable-line no-console\n        buttonDone && buttonDone(false);\n      }\n    },\n\n    async actuallySave(url) {\n      if ( this.isCreate ) {\n        url = url || this.schema.linkFor('collection');\n        const res = await this.value.save({ url });\n\n        if (res) {\n          Object.assign(this.value, res);\n        }\n      } else {\n        await this.value.save();\n      }\n    },\n\n    setErrors(errors) {\n      this.errors = errors;\n    }\n  },\n};\n"],"mappings":"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","ignoreList":[]}]}