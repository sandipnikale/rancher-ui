{"remainingRequest":"/app/node_modules/thread-loader/dist/cjs.js!/app/node_modules/babel-loader/lib/index.js!/app/node_modules/@rancher/shell/plugins/steve/steve-class.js","dependencies":[{"path":"/app/node_modules/@rancher/shell/plugins/steve/steve-class.js","mtime":1764054237091},{"path":"/app/pkg/rancher-support-ui/babel.config.js","mtime":1764051174054},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1764054259024},{"path":"/app/node_modules/thread-loader/dist/cjs.js","mtime":1764054259111},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1764054258910}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgREVTQ1JJUFRJT04gfSBmcm9tICdAc2hlbGwvY29uZmlnL2xhYmVscy1hbm5vdGF0aW9ucyc7CmltcG9ydCBIeWJyaWRNb2RlbCBmcm9tICcuL2h5YnJpZC1jbGFzcyc7CmltcG9ydCB7IE5FVkVSX0FERCB9IGZyb20gJ0BzaGVsbC91dGlscy9jcmVhdGUteWFtbCc7CmltcG9ydCB7IGRlbGV0ZVByb3BlcnR5IH0gZnJvbSAnQHNoZWxsL3V0aWxzL29iamVjdCc7CgovLyBTb21lIGZpZWxkcyB0aGF0IGFyZSByZW1vdmVkIGZvciBZQU1MIChORVZFUl9BREQpIGFyZSByZXF1aXJlZCB2aWEgQVBJCmNvbnN0IFNURVZFX0FERCA9IFsnbWV0YWRhdGEucmVzb3VyY2VWZXJzaW9uJywgJ21ldGFkYXRhLmZpZWxkcycsICdtZXRhZGF0YS5jbHVzdGVyTmFtZScsICdtZXRhZGF0YS5kZWxldGlvbkdyYWNlUGVyaW9kU2Vjb25kcycsICdtZXRhZGF0YS5nZW5lcmF0ZU5hbWUnXTsKY29uc3QgU1RFVkVfTkVWRVJfU0FWRSA9IE5FVkVSX0FERC5maWx0ZXIobmEgPT4gIVNURVZFX0FERC5pbmNsdWRlcyhuYSkpOwpleHBvcnQgZGVmYXVsdCBjbGFzcyBTdGV2ZU1vZGVsIGV4dGVuZHMgSHlicmlkTW9kZWwgewogIGdldCBuYW1lKCkgewogICAgdmFyIF90aGlzJG1ldGFkYXRhOwogICAgcmV0dXJuICgoX3RoaXMkbWV0YWRhdGEgPSB0aGlzLm1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfdGhpcyRtZXRhZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkbWV0YWRhdGEubmFtZSkgfHwgdGhpcy5fbmFtZTsKICB9CiAgZ2V0IG5hbWVzcGFjZSgpIHsKICAgIHZhciBfdGhpcyRtZXRhZGF0YTI7CiAgICByZXR1cm4gKF90aGlzJG1ldGFkYXRhMiA9IHRoaXMubWV0YWRhdGEpID09PSBudWxsIHx8IF90aGlzJG1ldGFkYXRhMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkbWV0YWRhdGEyLm5hbWVzcGFjZTsKICB9CiAgZ2V0IGRlc2NyaXB0aW9uKCkgewogICAgdmFyIF90aGlzJG1ldGFkYXRhMywgX3RoaXMkc3BlYzsKICAgIHJldHVybiAoKF90aGlzJG1ldGFkYXRhMyA9IHRoaXMubWV0YWRhdGEpID09PSBudWxsIHx8IF90aGlzJG1ldGFkYXRhMyA9PT0gdm9pZCAwIHx8IChfdGhpcyRtZXRhZGF0YTMgPSBfdGhpcyRtZXRhZGF0YTMuYW5ub3RhdGlvbnMpID09PSBudWxsIHx8IF90aGlzJG1ldGFkYXRhMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkbWV0YWRhdGEzW0RFU0NSSVBUSU9OXSkgfHwgKChfdGhpcyRzcGVjID0gdGhpcy5zcGVjKSA9PT0gbnVsbCB8fCBfdGhpcyRzcGVjID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRzcGVjLmRlc2NyaXB0aW9uKSB8fCB0aGlzLl9kZXNjcmlwdGlvbjsKICB9CgogIC8qKgogICAqIFNldCBkZXNjcmlwdGlvbiBiYXNlZCBvbiB0aGUgdHlwZSBvZiBtb2RlbCBhdmFpbGFibGUgd2l0aCBwcml2YXRlIGZhbGxiYWNrCiAgICovCiAgc2V0IGRlc2NyaXB0aW9uKHZhbHVlKSB7CiAgICB2YXIgX3RoaXMkbWV0YWRhdGE0OwogICAgaWYgKChfdGhpcyRtZXRhZGF0YTQgPSB0aGlzLm1ldGFkYXRhKSAhPT0gbnVsbCAmJiBfdGhpcyRtZXRhZGF0YTQgIT09IHZvaWQgMCAmJiBfdGhpcyRtZXRhZGF0YTQuYW5ub3RhdGlvbnMpIHsKICAgICAgdGhpcy5tZXRhZGF0YS5hbm5vdGF0aW9uc1tERVNDUklQVElPTl0gPSB2YWx1ZTsKICAgIH0KICAgIGlmICh0aGlzLnNwZWMpIHsKICAgICAgdGhpcy5zcGVjLmRlc2NyaXB0aW9uID0gdmFsdWU7CiAgICB9CiAgICB0aGlzLl9kZXNjcmlwdGlvbiA9IHZhbHVlOwogIH0KICBjbGVhbkZvclNhdmUoZGF0YSwgZm9yTmV3KSB7CiAgICBjb25zdCB2YWwgPSBzdXBlci5jbGVhbkZvclNhdmUoZGF0YSk7CiAgICBmb3IgKGNvbnN0IGZpZWxkIG9mIFNURVZFX05FVkVSX1NBVkUpIHsKICAgICAgZGVsZXRlUHJvcGVydHkodmFsLCBmaWVsZCk7CiAgICB9CiAgICByZXR1cm4gdmFsOwogIH0KfQ=="},{"version":3,"names":["DESCRIPTION","HybridModel","NEVER_ADD","deleteProperty","STEVE_ADD","STEVE_NEVER_SAVE","filter","na","includes","SteveModel","name","_this$metadata","metadata","_name","namespace","_this$metadata2","description","_this$metadata3","_this$spec","annotations","spec","_description","value","_this$metadata4","cleanForSave","data","forNew","val","field"],"sources":["/app/node_modules/@rancher/shell/plugins/steve/steve-class.js"],"sourcesContent":["import { DESCRIPTION } from '@shell/config/labels-annotations';\nimport HybridModel from './hybrid-class';\nimport { NEVER_ADD } from '@shell/utils/create-yaml';\nimport { deleteProperty } from '@shell/utils/object';\n\n// Some fields that are removed for YAML (NEVER_ADD) are required via API\nconst STEVE_ADD = [\n  'metadata.resourceVersion',\n  'metadata.fields',\n  'metadata.clusterName',\n  'metadata.deletionGracePeriodSeconds',\n  'metadata.generateName',\n];\nconst STEVE_NEVER_SAVE = NEVER_ADD.filter((na) => !STEVE_ADD.includes(na));\n\nexport default class SteveModel extends HybridModel {\n  get name() {\n    return this.metadata?.name || this._name;\n  }\n\n  get namespace() {\n    return this.metadata?.namespace;\n  }\n\n  get description() {\n    return this.metadata?.annotations?.[DESCRIPTION] || this.spec?.description || this._description;\n  }\n\n  /**\n   * Set description based on the type of model available with private fallback\n   */\n  set description(value) {\n    if (this.metadata?.annotations) {\n      this.metadata.annotations[DESCRIPTION] = value;\n    }\n\n    if (this.spec) {\n      this.spec.description = value;\n    }\n\n    this._description = value;\n  }\n\n  cleanForSave(data, forNew) {\n    const val = super.cleanForSave(data);\n\n    for (const field of STEVE_NEVER_SAVE) {\n      deleteProperty(val, field);\n    }\n\n    return val;\n  }\n}\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kCAAkC;AAC9D,OAAOC,WAAW,MAAM,gBAAgB;AACxC,SAASC,SAAS,QAAQ,0BAA0B;AACpD,SAASC,cAAc,QAAQ,qBAAqB;;AAEpD;AACA,MAAMC,SAAS,GAAG,CAChB,0BAA0B,EAC1B,iBAAiB,EACjB,sBAAsB,EACtB,qCAAqC,EACrC,uBAAuB,CACxB;AACD,MAAMC,gBAAgB,GAAGH,SAAS,CAACI,MAAM,CAAEC,EAAE,IAAK,CAACH,SAAS,CAACI,QAAQ,CAACD,EAAE,CAAC,CAAC;AAE1E,eAAe,MAAME,UAAU,SAASR,WAAW,CAAC;EAClD,IAAIS,IAAIA,CAAA,EAAG;IAAA,IAAAC,cAAA;IACT,OAAO,EAAAA,cAAA,OAAI,CAACC,QAAQ,cAAAD,cAAA,uBAAbA,cAAA,CAAeD,IAAI,KAAI,IAAI,CAACG,KAAK;EAC1C;EAEA,IAAIC,SAASA,CAAA,EAAG;IAAA,IAAAC,eAAA;IACd,QAAAA,eAAA,GAAO,IAAI,CAACH,QAAQ,cAAAG,eAAA,uBAAbA,eAAA,CAAeD,SAAS;EACjC;EAEA,IAAIE,WAAWA,CAAA,EAAG;IAAA,IAAAC,eAAA,EAAAC,UAAA;IAChB,OAAO,EAAAD,eAAA,OAAI,CAACL,QAAQ,cAAAK,eAAA,gBAAAA,eAAA,GAAbA,eAAA,CAAeE,WAAW,cAAAF,eAAA,uBAA1BA,eAAA,CAA6BjB,WAAW,CAAC,OAAAkB,UAAA,GAAI,IAAI,CAACE,IAAI,cAAAF,UAAA,uBAATA,UAAA,CAAWF,WAAW,KAAI,IAAI,CAACK,YAAY;EACjG;;EAEA;AACF;AACA;EACE,IAAIL,WAAWA,CAACM,KAAK,EAAE;IAAA,IAAAC,eAAA;IACrB,KAAAA,eAAA,GAAI,IAAI,CAACX,QAAQ,cAAAW,eAAA,eAAbA,eAAA,CAAeJ,WAAW,EAAE;MAC9B,IAAI,CAACP,QAAQ,CAACO,WAAW,CAACnB,WAAW,CAAC,GAAGsB,KAAK;IAChD;IAEA,IAAI,IAAI,CAACF,IAAI,EAAE;MACb,IAAI,CAACA,IAAI,CAACJ,WAAW,GAAGM,KAAK;IAC/B;IAEA,IAAI,CAACD,YAAY,GAAGC,KAAK;EAC3B;EAEAE,YAAYA,CAACC,IAAI,EAAEC,MAAM,EAAE;IACzB,MAAMC,GAAG,GAAG,KAAK,CAACH,YAAY,CAACC,IAAI,CAAC;IAEpC,KAAK,MAAMG,KAAK,IAAIvB,gBAAgB,EAAE;MACpCF,cAAc,CAACwB,GAAG,EAAEC,KAAK,CAAC;IAC5B;IAEA,OAAOD,GAAG;EACZ;AACF","ignoreList":[]}]}