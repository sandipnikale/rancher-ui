{"remainingRequest":"/app/node_modules/thread-loader/dist/cjs.js!/app/node_modules/babel-loader/lib/index.js!/app/node_modules/@rancher/shell/components/SortableTable/sorting.js","dependencies":[{"path":"/app/node_modules/@rancher/shell/components/SortableTable/sorting.js","mtime":1764054237091},{"path":"/app/pkg/rancher-support-ui/babel.config.js","mtime":1764051174054},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1764054259024},{"path":"/app/node_modules/thread-loader/dist/cjs.js","mtime":1764054259111},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1764054258910}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgc29ydEJ5IH0gZnJvbSAnQHNoZWxsL3V0aWxzL3NvcnQnOwppbXBvcnQgeyB1bmlxIH0gZnJvbSAnQHNoZWxsL3V0aWxzL2FycmF5JzsKCi8qKgogKiBBbHdheXMgc29ydCBieSBzb21ldGhpbmcsIHRoaXMgaXMgdGhlIGJlc3QgZ3Vlc3Mgb24gcHJvcGVydGllcwogKgogKiBDYW4gYmUgb3ZlcnJpZGVuCiAqLwpjb25zdCBERUZBVUxUX01BTkRBVE9SWV9TT1JUID0gWyduYW1lU29ydCcsICdpZCddOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcHV0ZWQ6IHsKICAgIHNvcnRGaWVsZHMoKSB7CiAgICAgIGxldCBmcm9tR3JvdXAgPSAodGhpcy5ncm91cEJ5ID8gdGhpcy5ncm91cFNvcnQgfHwgdGhpcy5ncm91cEJ5IDogbnVsbCkgfHwgW107CiAgICAgIGxldCBmcm9tQ29sdW1uID0gW107CiAgICAgIGNvbnN0IGNvbHVtbiA9ICh0aGlzLmNvbHVtbnMgfHwgdGhpcy5oZWFkZXJzKS5maW5kKHggPT4geCAmJiB4Lm5hbWUgJiYgeC5uYW1lLnRvTG93ZXJDYXNlKCkgPT09IHRoaXMuc29ydEJ5LnRvTG93ZXJDYXNlKCkpOwogICAgICBpZiAodGhpcy5zb3J0QnkgJiYgY29sdW1uICYmIGNvbHVtbi5zb3J0KSB7CiAgICAgICAgZnJvbUNvbHVtbiA9IGNvbHVtbi5zb3J0OwogICAgICB9CiAgICAgIGlmICghQXJyYXkuaXNBcnJheShmcm9tR3JvdXApKSB7CiAgICAgICAgZnJvbUdyb3VwID0gW2Zyb21Hcm91cF07CiAgICAgIH0KICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGZyb21Db2x1bW4pKSB7CiAgICAgICAgZnJvbUNvbHVtbiA9IFtmcm9tQ29sdW1uXTsKICAgICAgfQoKICAgICAgLy8gcmV0dXJuIHRoZSBzb3J0aW5nIGJhc2VkIG9uIGdyb3VwaW5nLCB1c2VyIHNlbGVjdGlvbiBhbmQgZmFsbGJhY2sKICAgICAgcmV0dXJuIHVuaXEoWy4uLmZyb21Hcm91cCwgLi4uZnJvbUNvbHVtbl0uY29uY2F0KC4uLih0aGlzLm1hbmRhdG9yeVNvcnQgfHwgREVGQVVMVF9NQU5EQVRPUllfU09SVCkpKTsKICAgIH0sCiAgICBhcnJhbmdlZFJvd3MoKSB7CiAgICAgIGlmICh0aGlzLmV4dGVybmFsUGFnaW5hdGlvbkVuYWJsZWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgbGV0IGtleTsKICAgICAgaWYgKHRoaXMuc29ydEdlbmVyYXRpb25GbikgewogICAgICAgIGtleSA9IGAke3RoaXMuc29ydEdlbmVyYXRpb25Gbi5hcHBseSh0aGlzKX0vJHt0aGlzLnJvd3MubGVuZ3RofS8ke3RoaXMuZGVzY2VuZGluZ30vJHt0aGlzLnNvcnRGaWVsZHMuam9pbignLCcpfWA7CiAgICAgICAgaWYgKHRoaXMuY2FjaGVLZXkgPT09IGtleSkgewogICAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVkUm93czsKICAgICAgICB9CiAgICAgIH0KICAgICAgY29uc3Qgb3V0ID0gc29ydEJ5KHRoaXMucm93cywgdGhpcy5zb3J0RmllbGRzLCB0aGlzLmRlc2NlbmRpbmcpOwogICAgICBpZiAoa2V5KSB7CiAgICAgICAgdGhpcy5jYWNoZUtleSA9IGtleTsKICAgICAgICB0aGlzLmNhY2hlZFJvd3MgPSBvdXQ7CiAgICAgIH0KICAgICAgcmV0dXJuIG91dDsKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICBsZXQgc29ydEJ5ID0gbnVsbDsKICAgIHRoaXMuX2RlZmF1bHRTb3J0QnkgPSB0aGlzLmRlZmF1bHRTb3J0Qnk7CgogICAgLy8gVHJ5IHRvIGZpbmQgYSByZWFzb25hYmxlIGRlZmF1bHQgc29ydAogICAgaWYgKCF0aGlzLl9kZWZhdWx0U29ydEJ5KSB7CiAgICAgIGNvbnN0IG1hcmtlZENvbHVtbiA9IHRoaXMuaGVhZGVycy5maW5kKHggPT4gISF4LmRlZmF1bHRTb3J0KTsKICAgICAgY29uc3QgbmFtZUNvbHVtbiA9IHRoaXMuaGVhZGVycy5maW5kKHggPT4geC5uYW1lID09PSAnbmFtZScpOwogICAgICBpZiAobWFya2VkQ29sdW1uKSB7CiAgICAgICAgdGhpcy5fZGVmYXVsdFNvcnRCeSA9IG1hcmtlZENvbHVtbi5uYW1lOwogICAgICB9IGVsc2UgaWYgKG5hbWVDb2x1bW4pIHsKICAgICAgICAvLyBVc2UgdGhlIG5hbWUgY29sdW1uIGlmIHRoZXJlIGlzIG9uZQogICAgICAgIHRoaXMuX2RlZmF1bHRTb3J0QnkgPSBuYW1lQ29sdW1uLm5hbWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gVGhlIGZpcnN0IGNvbHVtbiB0aGF0IGlzbid0IHN0YXRlCiAgICAgICAgY29uc3QgZmlyc3QgPSB0aGlzLmhlYWRlcnMuZmlsdGVyKHggPT4geC5uYW1lICE9PSAnc3RhdGUnKVswXTsKICAgICAgICBpZiAoZmlyc3QpIHsKICAgICAgICAgIHRoaXMuX2RlZmF1bHRTb3J0QnkgPSBmaXJzdC5uYW1lOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBJIGdpdmUgdXAKICAgICAgICAgIHRoaXMuX2RlZmF1bHRTb3J0QnkgPSAnaWQnOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIC8vIElmIHRoZSBzb3J0IGNvbHVtbiBkb2Vzbid0IGV4aXN0IG9yIGlzbid0IHNwZWNpZmllZCwgdXNlIGRlZmF1bHQKICAgIGlmICghc29ydEJ5IHx8ICF0aGlzLmhlYWRlcnMuZmluZCh4ID0+IHgubmFtZSA9PT0gc29ydEJ5KSkgewogICAgICBzb3J0QnkgPSB0aGlzLl9kZWZhdWx0U29ydEJ5OwogICAgfQogICAgcmV0dXJuIHsKICAgICAgc29ydEJ5LAogICAgICBkZXNjZW5kaW5nOiBmYWxzZSwKICAgICAgY2FjaGVkUm93czogbnVsbCwKICAgICAgY2FjaGVLZXk6IG51bGwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGFuZ2VTb3J0KHNvcnQsIGRlc2MpIHsKICAgICAgdGhpcy5zb3J0QnkgPSBzb3J0OwogICAgICB0aGlzLmRlc2NlbmRpbmcgPSBkZXNjOwoKICAgICAgLy8gQWx3YXlzIGdvIGJhY2sgdG8gdGhlIGZpcnN0IHBhZ2Ugd2hlbiB0aGUgc29ydCBpcyBjaGFuZ2VkCiAgICAgIHRoaXMuc2V0UGFnZSgxKTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBzb3J0RmllbGRzKCkgewogICAgICB0aGlzLmRlYm91bmNlZFBhZ2luYXRpb25DaGFuZ2VkKCk7CiAgICB9LAogICAgZGVzY2VuZGluZygpIHsKICAgICAgdGhpcy5kZWJvdW5jZWRQYWdpbmF0aW9uQ2hhbmdlZCgpOwogICAgfQogIH0KfTs="},{"version":3,"names":["sortBy","uniq","DEFAULT_MANDATORY_SORT","computed","sortFields","fromGroup","groupBy","groupSort","fromColumn","column","columns","headers","find","x","name","toLowerCase","sort","Array","isArray","concat","mandatorySort","arrangedRows","externalPaginationEnabled","key","sortGenerationFn","apply","rows","length","descending","join","cacheKey","cachedRows","out","data","_defaultSortBy","defaultSortBy","markedColumn","defaultSort","nameColumn","first","filter","methods","changeSort","desc","setPage","watch","debouncedPaginationChanged"],"sources":["/app/node_modules/@rancher/shell/components/SortableTable/sorting.js"],"sourcesContent":["import { sortBy } from '@shell/utils/sort';\nimport { uniq } from '@shell/utils/array';\n\n/**\n * Always sort by something, this is the best guess on properties\n *\n * Can be overriden\n */\nconst DEFAULT_MANDATORY_SORT = ['nameSort', 'id'];\n\nexport default {\n  computed: {\n    sortFields() {\n      let fromGroup = ( this.groupBy ? this.groupSort || this.groupBy : null) || [];\n      let fromColumn = [];\n\n      const column = (this.columns || this.headers).find((x) => x && x.name && x.name.toLowerCase() === this.sortBy.toLowerCase());\n\n      if ( this.sortBy && column && column.sort ) {\n        fromColumn = column.sort;\n      }\n\n      if ( !Array.isArray(fromGroup) ) {\n        fromGroup = [fromGroup];\n      }\n\n      if ( !Array.isArray(fromColumn) ) {\n        fromColumn = [fromColumn];\n      }\n\n      // return the sorting based on grouping, user selection and fallback\n      return uniq([...fromGroup, ...fromColumn].concat(...(this.mandatorySort || DEFAULT_MANDATORY_SORT)));\n    },\n\n    arrangedRows() {\n      if (this.externalPaginationEnabled) {\n        return;\n      }\n\n      let key;\n\n      if ( this.sortGenerationFn ) {\n        key = `${ this.sortGenerationFn.apply(this) }/${ this.rows.length }/${ this.descending }/${ this.sortFields.join(',') }`;\n\n        if ( this.cacheKey === key ) {\n          return this.cachedRows;\n        }\n      }\n\n      const out = sortBy(this.rows, this.sortFields, this.descending);\n\n      if ( key ) {\n        this.cacheKey = key;\n        this.cachedRows = out;\n      }\n\n      return out;\n    },\n  },\n\n  data() {\n    let sortBy = null;\n\n    this._defaultSortBy = this.defaultSortBy;\n\n    // Try to find a reasonable default sort\n    if ( !this._defaultSortBy ) {\n      const markedColumn = this.headers.find((x) => !!x.defaultSort);\n      const nameColumn = this.headers.find( (x) => x.name === 'name');\n\n      if ( markedColumn ) {\n        this._defaultSortBy = markedColumn.name;\n      } else if ( nameColumn ) {\n        // Use the name column if there is one\n        this._defaultSortBy = nameColumn.name;\n      } else {\n        // The first column that isn't state\n        const first = this.headers.filter( (x) => x.name !== 'state' )[0];\n\n        if ( first ) {\n          this._defaultSortBy = first.name;\n        } else {\n          // I give up\n          this._defaultSortBy = 'id';\n        }\n      }\n    }\n\n    // If the sort column doesn't exist or isn't specified, use default\n    if ( !sortBy || !this.headers.find((x) => x.name === sortBy ) ) {\n      sortBy = this._defaultSortBy;\n    }\n\n    return {\n      sortBy,\n      descending: false,\n      cachedRows: null,\n      cacheKey:   null,\n    };\n  },\n\n  methods: {\n    changeSort(sort, desc) {\n      this.sortBy = sort;\n      this.descending = desc;\n\n      // Always go back to the first page when the sort is changed\n      this.setPage(1);\n    },\n  },\n\n  watch: {\n    sortFields() {\n      this.debouncedPaginationChanged();\n    },\n\n    descending() {\n      this.debouncedPaginationChanged();\n    }\n  }\n};\n"],"mappings":"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","ignoreList":[]}]}