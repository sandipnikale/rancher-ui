{"remainingRequest":"/app/node_modules/thread-loader/dist/cjs.js!/app/node_modules/babel-loader/lib/index.js!/app/node_modules/cache-loader/dist/cjs.js??ref--2-0!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/node_modules/@rancher/shell/components/FileDiff.vue?vue&type=script&lang=js","dependencies":[{"path":"/app/node_modules/@rancher/shell/components/FileDiff.vue","mtime":1764054237091},{"path":"/app/pkg/rancher-support-ui/babel.config.js","mtime":1764051174054},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1764054259024},{"path":"/app/node_modules/thread-loader/dist/cjs.js","mtime":1764054259111},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1764054258910},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1764054259024},{"path":"/app/node_modules/vue-loader/lib/index.js","mtime":1764054260995}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgRGlmZjJIdG1sVUkgfSBmcm9tICdkaWZmMmh0bWwvbGliL3VpL2pzL2RpZmYyaHRtbC11aS1zbGltLmpzJzsKaW1wb3J0IHsgY3JlYXRlUGF0Y2ggfSBmcm9tICdkaWZmJzsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBmaWxlbmFtZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdmaWxlLnR4dCcKICAgIH0sCiAgICBzaWRlQnlTaWRlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgb3JpZzogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgbmV1OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBhdXRvUmVzaXplOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBmb290ZXJTcGFjZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDAKICAgIH0sCiAgICBtaW5IZWlnaHQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAyMDAKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmRyYXcoKTsKICB9LAogIHdhdGNoOiB7CiAgICBzaWRlQnlTaWRlKCkgewogICAgICB0aGlzLmRyYXcoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGRyYXcoKSB7CiAgICAgIGNvbnN0IHRhcmdldEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlmZkVsZW1lbnQnKTsKICAgICAgY29uc3QgcGF0Y2ggPSBjcmVhdGVQYXRjaCh0aGlzLmZpbGVuYW1lLCB0aGlzLm9yaWcsIHRoaXMubmV1KTsKICAgICAgY29uc3QgY29uZmlndXJhdGlvbiA9IHsKICAgICAgICAvLyBVSQogICAgICAgIHN5bmNocm9uaXNlZFNjcm9sbDogdHJ1ZSwKICAgICAgICAvLyBCYXNlCiAgICAgICAgb3V0cHV0Rm9ybWF0OiB0aGlzLnNpZGVCeVNpZGUgPyAnc2lkZS1ieS1zaWRlJyA6ICdsaW5lLWJ5LWxpbmUnLAogICAgICAgIGRyYXdGaWxlTGlzdDogZmFsc2UsCiAgICAgICAgbWF0Y2hpbmc6ICd3b3JkcycKICAgICAgfTsKICAgICAgY29uc3QgZGlmZjJodG1sVWkgPSBuZXcgRGlmZjJIdG1sVUkodGFyZ2V0RWxlbWVudCwgcGF0Y2gsIGNvbmZpZ3VyYXRpb24pOwogICAgICBkaWZmMmh0bWxVaS5kcmF3KCk7CiAgICAgIHRoaXMuZml0KCk7CiAgICB9LAogICAgZml0KCkgewogICAgICBpZiAoIXRoaXMuYXV0b1Jlc2l6ZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLiRyZWZzLnJvb3Q7CiAgICAgIGlmICghY29udGFpbmVyKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGNvbnN0IG9mZnNldCA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgaWYgKCFvZmZzZXQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgY29uc3QgZGVzaXJlZCA9IHdpbmRvdy5pbm5lckhlaWdodCAtIG9mZnNldC50b3AgLSB0aGlzLmZvb3RlclNwYWNlOwogICAgICBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gYCR7TWF0aC5tYXgoMCwgZGVzaXJlZCl9cHhgOwogICAgfQogIH0KfTs="},{"version":3,"names":["Diff2HtmlUI","createPatch","props","filename","type","String","default","sideBySide","Boolean","orig","required","neu","autoResize","footerSpace","Number","minHeight","mounted","draw","watch","methods","targetElement","document","getElementById","patch","configuration","synchronisedScroll","outputFormat","drawFileList","matching","diff2htmlUi","fit","container","$refs","root","offset","getBoundingClientRect","desired","window","innerHeight","top","style","height","Math","max"],"sources":["../../node_modules/@rancher/shell/components/FileDiff.vue"],"sourcesContent":["<script>\nimport { Diff2HtmlUI } from 'diff2html/lib/ui/js/diff2html-ui-slim.js';\n\nimport { createPatch } from 'diff';\n\nexport default {\n  props: {\n    filename: {\n      type:    String,\n      default: 'file.txt',\n    },\n\n    sideBySide: {\n      type:    Boolean,\n      default: false,\n    },\n\n    orig: {\n      type:     String,\n      required: true,\n    },\n\n    neu: {\n      type:     String,\n      required: true,\n    },\n\n    autoResize: {\n      type:    Boolean,\n      default: true,\n    },\n    footerSpace: {\n      type:    Number,\n      default: 0,\n    },\n    minHeight: {\n      type:    Number,\n      default: 200,\n    }\n  },\n\n  mounted() {\n    this.draw();\n  },\n\n  watch: {\n    sideBySide() {\n      this.draw();\n    }\n  },\n\n  methods: {\n    draw() {\n      const targetElement = document.getElementById('diffElement');\n      const patch = createPatch(\n        this.filename,\n        this.orig,\n        this.neu\n      );\n      const configuration = {\n        // UI\n        synchronisedScroll: true,\n\n        // Base\n        outputFormat: this.sideBySide ? 'side-by-side' : 'line-by-line',\n        drawFileList: false,\n        matching:     'words',\n      };\n\n      const diff2htmlUi = new Diff2HtmlUI(targetElement, patch, configuration);\n\n      diff2htmlUi.draw();\n      this.fit();\n    },\n\n    fit() {\n      if ( !this.autoResize ) {\n        return;\n      }\n\n      const container = this.$refs.root;\n\n      if ( !container ) {\n        return;\n      }\n\n      const offset = container.getBoundingClientRect();\n\n      if ( !offset ) {\n        return;\n      }\n\n      const desired = window.innerHeight - offset.top - this.footerSpace;\n\n      container.style.height = `${ Math.max(0, desired) }px`;\n    },\n  },\n};\n</script>\n\n<template>\n  <div>\n    <resize-observer @notify=\"fit\" />\n    <div\n      id=\"diffElement\"\n      ref=\"root\"\n      class=\"root\"\n    />\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.root {\n  max-width: 100%;\n  position: relative;\n  overflow: auto;\n}\n</style>\n\n<style scoped lang=\"scss\">\n@import 'node_modules/diff2html/bundles/css/diff2html.min.css';\n\n::v-deep .d2h-wrapper {\n  .d2h-file-header {\n    display: none;\n  }\n\n  .d2h-file-wrapper {\n    border-color: var(--diff-border);\n  }\n\n  .d2h-diff-table {\n    font-family: Menlo,Consolas,monospace;\n    font-size: 13px;\n  }\n\n  .d2h-emptyplaceholder, .d2h-code-side-emptyplaceholder {\n    border-color: var(--diff-linenum-border);\n    background-color: var(--diff-empty-placeholder);\n  }\n\n  .d2h-code-linenumber,\n  .d2h-code-side-linenumber {\n    background-color: var(--diff-linenum-bg);\n    color: var(--diff-linenum);\n    border-color: var(--diff-linenum-border);\n    border-left: 0;\n  }\n\n  .d2h-code-line del,.d2h-code-side-line del {\n    background-color: var(--diff-line-del-bg);\n  }\n\n  .d2h-code-line ins,.d2h-code-side-line ins {\n    background-color: var(--diff-line-ins-bg);\n  }\n\n  .d2h-del {\n    background-color: var(--diff-del-bg);\n    border-color: var(--diff-del-border);\n    color: var(--body-text);\n  }\n\n  .d2h-ins {\n    background-color: var(--diff-ins-bg);\n    border-color: var(--diff-ins-border);\n    color: var(--body-text);\n  }\n\n  .d2h-info {\n    background-color: var(--diff-header-bg);\n    color: var(--diff-header);\n    border-color: var(--diff-header-border);\n  }\n\n  .d2h-file-diff .d2h-del.d2h-change {\n    background-color: var(--diff-chg-del);\n  }\n\n  .d2h-file-diff .d2h-ins.d2h-change {\n    background-color: var(--diff-chg-ins);\n  }\n}\n</style>\n"],"mappings":"AACA,SAAAA,WAAA;AAEA,SAAAC,WAAA;AAEA;EACAC,KAAA;IACAC,QAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;IAEAC,UAAA;MACAH,IAAA,EAAAI,OAAA;MACAF,OAAA;IACA;IAEAG,IAAA;MACAL,IAAA,EAAAC,MAAA;MACAK,QAAA;IACA;IAEAC,GAAA;MACAP,IAAA,EAAAC,MAAA;MACAK,QAAA;IACA;IAEAE,UAAA;MACAR,IAAA,EAAAI,OAAA;MACAF,OAAA;IACA;IACAO,WAAA;MACAT,IAAA,EAAAU,MAAA;MACAR,OAAA;IACA;IACAS,SAAA;MACAX,IAAA,EAAAU,MAAA;MACAR,OAAA;IACA;EACA;EAEAU,QAAA;IACA,KAAAC,IAAA;EACA;EAEAC,KAAA;IACAX,WAAA;MACA,KAAAU,IAAA;IACA;EACA;EAEAE,OAAA;IACAF,KAAA;MACA,MAAAG,aAAA,GAAAC,QAAA,CAAAC,cAAA;MACA,MAAAC,KAAA,GAAAtB,WAAA,CACA,KAAAE,QAAA,EACA,KAAAM,IAAA,EACA,KAAAE,GACA;MACA,MAAAa,aAAA;QACA;QACAC,kBAAA;QAEA;QACAC,YAAA,OAAAnB,UAAA;QACAoB,YAAA;QACAC,QAAA;MACA;MAEA,MAAAC,WAAA,OAAA7B,WAAA,CAAAoB,aAAA,EAAAG,KAAA,EAAAC,aAAA;MAEAK,WAAA,CAAAZ,IAAA;MACA,KAAAa,GAAA;IACA;IAEAA,IAAA;MACA,UAAAlB,UAAA;QACA;MACA;MAEA,MAAAmB,SAAA,QAAAC,KAAA,CAAAC,IAAA;MAEA,KAAAF,SAAA;QACA;MACA;MAEA,MAAAG,MAAA,GAAAH,SAAA,CAAAI,qBAAA;MAEA,KAAAD,MAAA;QACA;MACA;MAEA,MAAAE,OAAA,GAAAC,MAAA,CAAAC,WAAA,GAAAJ,MAAA,CAAAK,GAAA,QAAA1B,WAAA;MAEAkB,SAAA,CAAAS,KAAA,CAAAC,MAAA,MAAAC,IAAA,CAAAC,GAAA,IAAAP,OAAA;IACA;EACA;AACA","ignoreList":[]}]}