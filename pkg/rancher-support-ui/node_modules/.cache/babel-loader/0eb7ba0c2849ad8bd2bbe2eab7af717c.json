{"remainingRequest":"/app/node_modules/thread-loader/dist/cjs.js!/app/node_modules/babel-loader/lib/index.js!/app/node_modules/@rancher/shell/utils/object.js","dependencies":[{"path":"/app/node_modules/@rancher/shell/utils/object.js","mtime":1764054237091},{"path":"/app/pkg/rancher-support-ui/babel.config.js","mtime":1764051174054},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1764054259024},{"path":"/app/node_modules/thread-loader/dist/cjs.js","mtime":1764054259111},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1764054258910}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGNsb25lRGVlcCBmcm9tICdsb2Rhc2gvY2xvbmVEZWVwJzsKaW1wb3J0IGZsYXR0ZW5EZWVwIGZyb20gJ2xvZGFzaC9mbGF0dGVuRGVlcCc7CmltcG9ydCBjb21wYWN0IGZyb20gJ2xvZGFzaC9jb21wYWN0JzsKaW1wb3J0IHsgSlNPTlBhdGggfSBmcm9tICdqc29ucGF0aC1wbHVzJzsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgdHJhbnNmb3JtIGZyb20gJ2xvZGFzaC90cmFuc2Zvcm0nOwppbXBvcnQgaXNPYmplY3QgZnJvbSAnbG9kYXNoL2lzT2JqZWN0JzsKaW1wb3J0IGlzQXJyYXkgZnJvbSAnbG9kYXNoL2lzQXJyYXknOwppbXBvcnQgaXNFcXVhbCBmcm9tICdsb2Rhc2gvaXNFcXVhbCc7CmltcG9ydCBkaWZmZXJlbmNlIGZyb20gJ2xvZGFzaC9kaWZmZXJlbmNlJzsKaW1wb3J0IHsgc3BsaXRPYmplY3RQYXRoLCBqb2luT2JqZWN0UGF0aCB9IGZyb20gJ0BzaGVsbC91dGlscy9zdHJpbmcnOwppbXBvcnQgeyBhZGRPYmplY3QgfSBmcm9tICdAc2hlbGwvdXRpbHMvYXJyYXknOwpleHBvcnQgZnVuY3Rpb24gc2V0KG9iaiwgcGF0aCwgdmFsdWUpIHsKICBsZXQgcHRyID0gb2JqOwogIGlmICghcHRyKSB7CiAgICByZXR1cm47CiAgfQogIGNvbnN0IHBhcnRzID0gc3BsaXRPYmplY3RQYXRoKHBhdGgpOwogIGZvciAobGV0IGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHsKICAgIGNvbnN0IGtleSA9IHBhcnRzW2ldOwogICAgaWYgKGkgPT09IHBhcnRzLmxlbmd0aCAtIDEpIHsKICAgICAgVnVlLnNldChwdHIsIGtleSwgdmFsdWUpOwogICAgfSBlbHNlIGlmICghcHRyW2tleV0pIHsKICAgICAgLy8gTWFrZSBzdXJlIHBhcmVudCBrZXlzIGV4aXN0CiAgICAgIFZ1ZS5zZXQocHRyLCBrZXksIHt9KTsKICAgIH0KICAgIHB0ciA9IHB0cltrZXldOwogIH0KICByZXR1cm4gb2JqOwp9CmV4cG9ydCBmdW5jdGlvbiBnZXRBbGxWYWx1ZXMob2JqLCBwYXRoKSB7CiAgY29uc3Qga2V5c0luT3JkZXIgPSBwYXRoLnNwbGl0KCcuJyk7CiAgbGV0IGN1cnJlbnRWYWx1ZSA9IFtvYmpdOwogIGtleXNJbk9yZGVyLmZvckVhY2goY3VycmVudEtleSA9PiB7CiAgICBjdXJyZW50VmFsdWUgPSBjdXJyZW50VmFsdWUubWFwKGluZGV4VmFsdWUgPT4gewogICAgICBpZiAoQXJyYXkuaXNBcnJheShpbmRleFZhbHVlKSkgewogICAgICAgIHJldHVybiBpbmRleFZhbHVlLm1hcChhcnIgPT4gYXJyW2N1cnJlbnRLZXldKS5mbGF0KCk7CiAgICAgIH0gZWxzZSBpZiAoaW5kZXhWYWx1ZSkgewogICAgICAgIHJldHVybiBpbmRleFZhbHVlW2N1cnJlbnRLZXldOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICB9KS5mbGF0KCk7CiAgfSk7CiAgcmV0dXJuIGN1cnJlbnRWYWx1ZS5maWx0ZXIodmFsID0+IHZhbCAhPT0gbnVsbCk7Cn0KZXhwb3J0IGZ1bmN0aW9uIGdldChvYmosIHBhdGgpIHsKICBpZiAoIXBhdGgpIHsKICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHRyYW5zbGF0ZSBhbiBlbXB0eSBpbnB1dC4gVGhlIHQgZnVuY3Rpb24gcmVxdWlyZXMgYSBzdHJpbmcuJyk7CiAgfQogIGlmIChwYXRoLnN0YXJ0c1dpdGgoJyQnKSkgewogICAgdHJ5IHsKICAgICAgcmV0dXJuIEpTT05QYXRoKHsKICAgICAgICBwYXRoLAogICAgICAgIGpzb246IG9iaiwKICAgICAgICB3cmFwOiBmYWxzZQogICAgICB9KTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgY29uc29sZS5sb2coJ0pTT04gUGF0aCBlcnJvcicsIGUsIHBhdGgsIG9iaik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZQoKICAgICAgcmV0dXJuICcoSlNPTiBQYXRoIGVyciknOwogICAgfQogIH0KICBpZiAoIXBhdGguaW5jbHVkZXMoJy4nKSkgewogICAgdmFyIF9vYmo7CiAgICByZXR1cm4gKF9vYmogPSBvYmopID09PSBudWxsIHx8IF9vYmogPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vYmpbcGF0aF07CiAgfQogIGNvbnN0IHBhcnRzID0gc3BsaXRPYmplY3RQYXRoKHBhdGgpOwogIGZvciAobGV0IGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHsKICAgIGlmICghb2JqKSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIG9iaiA9IG9ialtwYXJ0c1tpXV07CiAgfQogIHJldHVybiBvYmo7Cn0KZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZShvYmosIHBhdGgpIHsKICBjb25zdCBwYXJlbnRBcnkgPSBzcGxpdE9iamVjdFBhdGgocGF0aCk7CgogIC8vIFJlbW92ZSB0aGUgdmVyeSBsYXN0IHBhcnQgb2YgdGhlIHBhdGgKCiAgaWYgKHBhcmVudEFyeS5sZW5ndGggPT09IDEpIHsKICAgIFZ1ZS5zZXQob2JqLCBwYXRoLCB1bmRlZmluZWQpOwogICAgZGVsZXRlIG9ialtwYXRoXTsKICB9IGVsc2UgewogICAgY29uc3QgbGVhZktleSA9IHBhcmVudEFyeS5wb3AoKTsKICAgIGNvbnN0IHBhcmVudCA9IGdldChvYmosIGpvaW5PYmplY3RQYXRoKHBhcmVudEFyeSkpOwogICAgaWYgKHBhcmVudCkgewogICAgICBWdWUuc2V0KHBhcmVudCwgbGVhZktleSwgdW5kZWZpbmVkKTsKICAgICAgZGVsZXRlIHBhcmVudFtsZWFmS2V5XTsKICAgIH0KICB9CiAgcmV0dXJuIG9iajsKfQoKLyoqCiAqIGBkZWxldGVgIGEgcHJvcGVydHkgYXQgdGhlIGdpdmVuIHBhdGguCiAqCiAqIFRoaXMgaXMgc2ltaWxhciB0byBgcmVtb3ZlYCBidXQgZG9lc24ndCBuZWVkIGFueSBmYW5jeSBrdWJlIG9iaiBwYXRoIHNwbGl0dGluZwogKiBhbmQgZG9lc24ndCB1c2UgYFZ1ZS5zZXRgIChhdm9pZHMgcmVhY3Rpdml0eSkKICovCmV4cG9ydCBmdW5jdGlvbiBkZWxldGVQcm9wZXJ0eShvYmosIHBhdGgpIHsKICBjb25zdCBwYXRoQXIgPSBwYXRoLnNwbGl0KCcuJyk7CiAgY29uc3QgcHJvcFRvRGVsZXRlID0gcGF0aEFyLnBvcCgpOwoKICAvLyBXYWxrIGRvd24gcGF0aCB1bnRpbCBmaW5hbCBwcm9wLCB0aGVuIGRlbGV0ZSBmaW5hbCBwcm9wCiAgZGVsZXRlIHBhdGhBci5yZWR1Y2UoKG8sIGspID0+IG9ba10gfHwge30sIG9iailbcHJvcFRvRGVsZXRlXTsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0dGVyKHBhdGgpIHsKICByZXR1cm4gZnVuY3Rpb24gKG9iaikgewogICAgcmV0dXJuIGdldChvYmosIHBhdGgpOwogIH07Cn0KZXhwb3J0IGZ1bmN0aW9uIGNsb25lKG9iaikgewogIHJldHVybiBjbG9uZURlZXAob2JqKTsKfQpleHBvcnQgZnVuY3Rpb24gaXNFbXB0eShvYmopIHsKICBpZiAoIW9iaikgewogICAgcmV0dXJuIHRydWU7CiAgfQogIHJldHVybiAhT2JqZWN0LmtleXMob2JqKS5sZW5ndGg7Cn0KCi8qKgogKiBDaGVja3MgdG8gc2VlIGlmIHRoZSBvYmplY3QgaXMgYSBzaW1wbGUga2V5IHZhbHVlIHBhaXIgd2hlcmUgYWxsIHZhbHVlcyBhcmUKICoganVzdCBwcmltaXRpdmVzLgogKiBAcGFyYW0ge2FueX0gb2JqCiAqLwpleHBvcnQgZnVuY3Rpb24gaXNTaW1wbGVLZXlWYWx1ZShvYmopIHsKICByZXR1cm4gb2JqICE9PSBudWxsICYmICFBcnJheS5pc0FycmF5KG9iaikgJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgT2JqZWN0LnZhbHVlcyhvYmogfHwge30pLmV2ZXJ5KHYgPT4gdHlwZW9mIHYgIT09ICdvYmplY3QnKTsKfQoKLyoKcmV0dXJucyBhbiBvYmplY3Qgd2l0aCBubyBrZXkvdmFsdWUgcGFpcnMgKGluY2x1ZGluZyBuZXN0ZWQpIHdoZXJlIHRoZSB2YWx1ZSBpczoKICBlbXB0eSBhcnJheQogIGVtcHR5IG9iamVjdAogIG51bGwKICB1bmRlZmluZWQKKi8KZXhwb3J0IGZ1bmN0aW9uIGNsZWFuVXAob2JqKSB7CiAgT2JqZWN0LmtleXMob2JqKS5tYXAoa2V5ID0+IHsKICAgIGNvbnN0IHZhbCA9IG9ialtrZXldOwogICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkgewogICAgICBvYmpba2V5XSA9IHZhbC5tYXAoZWFjaCA9PiB7CiAgICAgICAgaWYgKGVhY2ggIT09IG51bGwgJiYgZWFjaCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICByZXR1cm4gY2xlYW5VcChlYWNoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBpZiAob2JqW2tleV0ubGVuZ3RoID09PSAwKSB7CiAgICAgICAgZGVsZXRlIG9ialtrZXldOwogICAgICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnIHx8IHZhbCA9PT0gbnVsbCkgewogICAgICBkZWxldGUgb2JqW2tleV07CiAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHZhbCkpIHsKICAgICAgaWYgKGlzRW1wdHkodmFsKSkgewogICAgICAgIGRlbGV0ZSBvYmpba2V5XTsKICAgICAgfQogICAgICBvYmpba2V5XSA9IGNsZWFuVXAodmFsKTsKICAgIH0KICB9KTsKICByZXR1cm4gb2JqOwp9CmV4cG9ydCBmdW5jdGlvbiBkZWZpbmVkS2V5cyhvYmopIHsKICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob2JqKS5tYXAoa2V5ID0+IHsKICAgIGNvbnN0IHZhbCA9IG9ialtrZXldOwogICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkgewogICAgICByZXR1cm4gYCIke2tleX0iYDsKICAgIH0gZWxzZSBpZiAoaXNPYmplY3QodmFsKSkgewogICAgICAvLyBubyBuZWVkIGZvciBxdW90ZXMgYXJvdW5kIHRoZSBzdWJrZXkgc2luY2UgdGhlIHJlY3Vyc2l2ZSBjYWxsIHdpbGwgZmlsbCB0aGF0IGluIHZpYSBvbmUgb2YgdGhlIG90aGVyIHR3byBzdGF0ZW1lbnRzIGluIHRoZSBpZiBibG9jawogICAgICByZXR1cm4gKGRlZmluZWRLZXlzKHZhbCkgfHwgW10pLm1hcChzdWJrZXkgPT4gYCIke2tleX0iLiR7c3Via2V5fWApOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGAiJHtrZXl9ImA7CiAgICB9CiAgfSk7CiAgcmV0dXJuIGNvbXBhY3QoZmxhdHRlbkRlZXAoa2V5cykpOwp9CmV4cG9ydCBmdW5jdGlvbiBkaWZmKGZyb20sIHRvKSB7CiAgZnJvbSA9IGZyb20gfHwge307CiAgdG8gPSB0byB8fCB7fTsKCiAgLy8gQ29weSB2YWx1ZXMgaW4gJ3RvJyB0aGF0IGFyZSBkaWZmZXJlbnQgdGhhbiBmcm9tCiAgY29uc3Qgb3V0ID0gdHJhbnNmb3JtKHRvLCAocmVzLCB0b1ZhbCwgaykgPT4gewogICAgY29uc3QgZnJvbVZhbCA9IGZyb21ba107CiAgICBpZiAoaXNFcXVhbCh0b1ZhbCwgZnJvbVZhbCkpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgaWYgKEFycmF5LmlzQXJyYXkodG9WYWwpIHx8IEFycmF5LmlzQXJyYXkoZnJvbVZhbCkpIHsKICAgICAgLy8gRG9uJ3QgZGlmZiBhcnJheXMsIGp1c3QgdXNlIHRoZSB3aG9sZSB2YWx1ZQogICAgICByZXNba10gPSB0b1ZhbDsKICAgIH0gZWxzZSBpZiAoaXNPYmplY3QodG9WYWwpICYmIGlzT2JqZWN0KGZyb21ba10pKSB7CiAgICAgIHJlc1trXSA9IGRpZmYoZnJvbVZhbCwgdG9WYWwpOwogICAgfSBlbHNlIHsKICAgICAgcmVzW2tdID0gdG9WYWw7CiAgICB9CiAgfSk7CiAgY29uc3QgZnJvbUtleXMgPSBkZWZpbmVkS2V5cyhmcm9tKTsKICBjb25zdCB0b0tleXMgPSBkZWZpbmVkS2V5cyh0byk7CgogIC8vIFJldHVybiBrZXlzIHRoYXQgYXJlIGluICdmcm9tJyBidXQgbm90ICd0by4nCiAgY29uc3QgbWlzc2luZyA9IGRpZmZlcmVuY2UoZnJvbUtleXMsIHRvS2V5cyk7CiAgZm9yIChjb25zdCBrIG9mIG1pc3NpbmcpIHsKICAgIHNldChvdXQsIGssIG51bGwpOwogIH0KICByZXR1cm4gb3V0Owp9CgovKioKICogU3VwZXIgc2ltcGxlIGxvZGFzaCBpc0VxdWFsIGVxdWl2YWxlbnQuCiAqCiAqIE9ubHkgY2hlY2tzIHJvb3QgcHJvcGVydGllcyBmb3Igc3RyaWN0IGVxdWFsaXR5CiAqLwpmdW5jdGlvbiBpc0VxdWFsQmFzaWMoZnJvbSwgdG8pIHsKICBjb25zdCBmcm9tS2V5cyA9IE9iamVjdC5rZXlzKGZyb20gfHwge30pOwogIGNvbnN0IHRvS2V5cyA9IE9iamVjdC5rZXlzKHRvIHx8IHt9KTsKICBpZiAoZnJvbUtleXMubGVuZ3RoICE9PSB0b0tleXMubGVuZ3RoKSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfQogIGZvciAobGV0IGkgPSAwOyBpIDwgZnJvbUtleXMubGVuZ3RoOyBpKyspIHsKICAgIGNvbnN0IGZyb21WYWx1ZSA9IGZyb21bZnJvbUtleXNbaV1dOwogICAgY29uc3QgdG9WYWx1ZSA9IHRvW2Zyb21LZXlzW2ldXTsKICAgIGlmIChmcm9tVmFsdWUgIT09IHRvVmFsdWUpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogIH0KICByZXR1cm4gdHJ1ZTsKfQpleHBvcnQgeyBpc0VxdWFsQmFzaWMgYXMgaXNFcXVhbCB9OwpleHBvcnQgZnVuY3Rpb24gY2hhbmdlc2V0KGZyb20sIHRvLCBwYXJlbnRQYXRoID0gW10pIHsKICBsZXQgb3V0ID0ge307CiAgaWYgKGlzRXF1YWwoZnJvbSwgdG8pKSB7CiAgICByZXR1cm4gb3V0OwogIH0KICBmb3IgKGNvbnN0IGsgaW4gZnJvbSkgewogICAgY29uc3QgcGF0aCA9IGpvaW5PYmplY3RQYXRoKFsuLi5wYXJlbnRQYXRoLCBrXSk7CiAgICBpZiAoIShrIGluIHRvKSkgewogICAgICBvdXRbcGF0aF0gPSB7CiAgICAgICAgb3A6ICdyZW1vdmUnLAogICAgICAgIHBhdGgKICAgICAgfTsKICAgIH0gZWxzZSBpZiAoaXNPYmplY3QoZnJvbVtrXSkgJiYgaXNPYmplY3QodG9ba10pIHx8IGlzQXJyYXkoZnJvbVtrXSkgJiYgaXNBcnJheSh0b1trXSkpIHsKICAgICAgb3V0ID0gewogICAgICAgIC4uLm91dCwKICAgICAgICAuLi5jaGFuZ2VzZXQoZnJvbVtrXSwgdG9ba10sIFsuLi5wYXJlbnRQYXRoLCBrXSkKICAgICAgfTsKICAgIH0gZWxzZSBpZiAoIWlzRXF1YWwoZnJvbVtrXSwgdG9ba10pKSB7CiAgICAgIG91dFtwYXRoXSA9IHsKICAgICAgICBvcDogJ2NoYW5nZScsCiAgICAgICAgZnJvbTogZnJvbVtrXSwKICAgICAgICB2YWx1ZTogdG9ba10KICAgICAgfTsKICAgIH0KICB9CiAgZm9yIChjb25zdCBrIGluIHRvKSB7CiAgICBpZiAoIShrIGluIGZyb20pKSB7CiAgICAgIGNvbnN0IHBhdGggPSBqb2luT2JqZWN0UGF0aChbLi4ucGFyZW50UGF0aCwga10pOwogICAgICBvdXRbcGF0aF0gPSB7CiAgICAgICAgb3A6ICdhZGQnLAogICAgICAgIHZhbHVlOiB0b1trXQogICAgICB9OwogICAgfQogIH0KICByZXR1cm4gb3V0Owp9CmV4cG9ydCBmdW5jdGlvbiBjaGFuZ2VzZXRDb25mbGljdHMoYSwgYikgewogIGxldCBrZXlzID0gT2JqZWN0LmtleXMoYSkuc29ydCgpOwogIGNvbnN0IG91dCA9IFtdOwogIGNvbnN0IHNlZW4gPSB7fTsKICBmb3IgKGNvbnN0IGsgb2Yga2V5cykgewogICAgbGV0IG9rID0gdHJ1ZTsKICAgIGNvbnN0IGFhID0gYVtrXTsKICAgIGNvbnN0IGJiID0gYltrXTsKCiAgICAvLyBJZiB3ZSd2ZSBzZWVuIGEgY2hhbmdlIGZvciBhIHBhcmVudCBvZiB0aGlzIGtleSBiZWZvcmUgKGUuZy4gbG9va2luZyBhdCBgc3BlYy5yZXBsaWNhc2AgYW5kIHRoZXJlJ3MgYWxyZWFkeSBiZWVuIGEgY2hhbmdlIHRvIGBzcGVjYCksIGFzc3VtZSB0aGV5IGNvbmZsaWN0CiAgICBmb3IgKGNvbnN0IHBhcmVudEtleSBvZiBwYXJlbnRLZXlzKGspKSB7CiAgICAgIGlmIChzZWVuW3BhcmVudEtleV0pIHsKICAgICAgICBvayA9IGZhbHNlOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CiAgICBzZWVuW2tdID0gdHJ1ZTsKICAgIGlmIChvayAmJiBiYikgewogICAgICBzd2l0Y2ggKGAke2FhLm9wfS0ke2JiLm9wfWApIHsKICAgICAgICBjYXNlICdhZGQtYWRkJzoKICAgICAgICBjYXNlICdhZGQtY2hhbmdlJzoKICAgICAgICBjYXNlICdjaGFuZ2UtYWRkJzoKICAgICAgICBjYXNlICdjaGFuZ2UtY2hhbmdlJzoKICAgICAgICAgIG9rID0gaXNFcXVhbChhYS52YWx1ZSwgYmIudmFsdWUpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnYWRkLXJlbW92ZSc6CiAgICAgICAgY2FzZSAnY2hhbmdlLXJlbW92ZSc6CiAgICAgICAgY2FzZSAncmVtb3ZlLWFkZCc6CiAgICAgICAgY2FzZSAncmVtb3ZlLWNoYW5nZSc6CiAgICAgICAgICBvayA9IGZhbHNlOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAncmVtb3ZlLXJlbW92ZSc6CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIG9rID0gdHJ1ZTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CiAgICBpZiAoIW9rKSB7CiAgICAgIGFkZE9iamVjdChvdXQsIGspOwogICAgfQogIH0KCiAgLy8gQ2hlY2sgcGFyZW50IGtleXMgZ29pbmcgdGhlIG90aGVyIHdheQogIGtleXMgPSBPYmplY3Qua2V5cyhiKS5zb3J0KCk7CiAgZm9yIChjb25zdCBrIG9mIGtleXMpIHsKICAgIGxldCBvayA9IHRydWU7CiAgICBmb3IgKGNvbnN0IHBhcmVudEtleSBvZiBwYXJlbnRLZXlzKGspKSB7CiAgICAgIGlmIChzZWVuW3BhcmVudEtleV0pIHsKICAgICAgICBvayA9IGZhbHNlOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CiAgICBzZWVuW2tdID0gdHJ1ZTsKICAgIGlmICghb2spIHsKICAgICAgYWRkT2JqZWN0KG91dCwgayk7CiAgICB9CiAgfQogIHJldHVybiBvdXQuc29ydCgpOwogIGZ1bmN0aW9uIHBhcmVudEtleXMoaykgewogICAgY29uc3Qgb3V0ID0gW107CiAgICBjb25zdCBwYXJ0cyA9IHNwbGl0T2JqZWN0UGF0aChrKTsKICAgIHBhcnRzLnBvcCgpOwogICAgd2hpbGUgKHBhcnRzLmxlbmd0aCkgewogICAgICBjb25zdCBwYXRoID0gam9pbk9iamVjdFBhdGgocGFydHMpOwogICAgICBvdXQucHVzaChwYXRoKTsKICAgICAgcGFydHMucG9wKCk7CiAgICB9CiAgICByZXR1cm4gb3V0OwogIH0KfQpleHBvcnQgZnVuY3Rpb24gYXBwbHlDaGFuZ2VzZXQob2JqLCBjaGFuZ2VzZXQpIHsKICBsZXQgZW50cnk7CiAgZm9yIChjb25zdCBwYXRoIGluIGNoYW5nZXNldCkgewogICAgZW50cnkgPSBjaGFuZ2VzZXRbcGF0aF07CiAgICBpZiAoZW50cnkub3AgPT09ICdhZGQnIHx8IGVudHJ5Lm9wID09PSAnY2hhbmdlJykgewogICAgICBzZXQob2JqLCBwYXRoLCBlbnRyeS52YWx1ZSk7CiAgICB9IGVsc2UgaWYgKGVudHJ5Lm9wID09PSAncmVtb3ZlJykgewogICAgICByZW1vdmUob2JqLCBwYXRoKTsKICAgIH0gZWxzZSB7CiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBvcGVyYXRpb246JHtlbnRyeS5vcH1gKTsKICAgIH0KICB9CiAgcmV0dXJuIG9iajsKfQoKLyoqCiAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBgb2JqZWN0YCBwcm9wZXJ0aWVzIGBwcmVkaWNhdGVgIHJldHVybnMKICovCmV4cG9ydCBmdW5jdGlvbiBwaWNrQnkob2JqID0ge30sIHByZWRpY2F0ZSA9ICh2YWx1ZSwga2V5KSA9PiBmYWxzZSkgewogIHJldHVybiBPYmplY3QuZW50cmllcyhvYmopLnJlZHVjZSgocmVzLCBba2V5LCB2YWx1ZV0pID0+IHsKICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGtleSkpIHsKICAgICAgcmVzW2tleV0gPSB2YWx1ZTsKICAgIH0KICAgIHJldHVybiByZXM7CiAgfSwge30pOwp9CgovKioKICogQ29udmVydCBsaXN0IHRvIGRpY3Rpb25hcnkgZnJvbSBhIGdpdmVuIGZ1bmN0aW9uCiAqIEBwYXJhbSB7Kn0gYXJyYXkKICogQHBhcmFtIHsqfSBjYWxsYmFjawogKiBAcmV0dXJucwogKi8KZXhwb3J0IGNvbnN0IHRvRGljdGlvbmFyeSA9IChhcnJheSwgY2FsbGJhY2spID0+IE9iamVjdC5hc3NpZ24oe30sIC4uLmFycmF5Lm1hcChpdGVtID0+ICh7CiAgW2l0ZW1dOiBjYWxsYmFjayhpdGVtKQp9KSkpOwpleHBvcnQgZnVuY3Rpb24gZHJvcEtleXMob2JqLCBrZXlzKSB7CiAgaWYgKCFvYmopIHsKICAgIHJldHVybjsKICB9CiAgZm9yIChjb25zdCBrIG9mIGtleXMpIHsKICAgIGRlbGV0ZSBvYmpba107CiAgfQp9"},{"version":3,"names":["cloneDeep","flattenDeep","compact","JSONPath","Vue","transform","isObject","isArray","isEqual","difference","splitObjectPath","joinObjectPath","addObject","set","obj","path","value","ptr","parts","i","length","key","getAllValues","keysInOrder","split","currentValue","forEach","currentKey","map","indexValue","Array","arr","flat","filter","val","get","Error","startsWith","json","wrap","e","console","log","includes","_obj","remove","parentAry","undefined","leafKey","pop","parent","deleteProperty","pathAr","propToDelete","reduce","o","k","getter","clone","isEmpty","Object","keys","isSimpleKeyValue","values","every","v","cleanUp","each","definedKeys","subkey","diff","from","to","out","res","toVal","fromVal","fromKeys","toKeys","missing","isEqualBasic","fromValue","toValue","changeset","parentPath","op","changesetConflicts","a","b","sort","seen","ok","aa","bb","parentKey","parentKeys","push","applyChangeset","entry","pickBy","predicate","entries","toDictionary","array","callback","assign","item","dropKeys"],"sources":["/app/node_modules/@rancher/shell/utils/object.js"],"sourcesContent":["import cloneDeep from 'lodash/cloneDeep';\nimport flattenDeep from 'lodash/flattenDeep';\nimport compact from 'lodash/compact';\nimport { JSONPath } from 'jsonpath-plus';\nimport Vue from 'vue';\nimport transform from 'lodash/transform';\nimport isObject from 'lodash/isObject';\nimport isArray from 'lodash/isArray';\nimport isEqual from 'lodash/isEqual';\nimport difference from 'lodash/difference';\nimport { splitObjectPath, joinObjectPath } from '@shell/utils/string';\nimport { addObject } from '@shell/utils/array';\n\nexport function set(obj, path, value) {\n  let ptr = obj;\n\n  if (!ptr) {\n    return;\n  }\n\n  const parts = splitObjectPath(path);\n\n  for (let i = 0; i < parts.length; i++) {\n    const key = parts[i];\n\n    if ( i === parts.length - 1 ) {\n      Vue.set(ptr, key, value);\n    } else if ( !ptr[key] ) {\n      // Make sure parent keys exist\n      Vue.set(ptr, key, {});\n    }\n\n    ptr = ptr[key];\n  }\n\n  return obj;\n}\n\nexport function getAllValues(obj, path) {\n  const keysInOrder = path.split('.');\n  let currentValue = [obj];\n\n  keysInOrder.forEach((currentKey) => {\n    currentValue = currentValue.map((indexValue) => {\n      if (Array.isArray(indexValue)) {\n        return indexValue.map((arr) => arr[currentKey]).flat();\n      } else if (indexValue) {\n        return indexValue[currentKey];\n      } else {\n        return null;\n      }\n    }).flat();\n  });\n\n  return currentValue.filter((val) => val !== null);\n}\n\nexport function get(obj, path) {\n  if ( !path) {\n    throw new Error('Cannot translate an empty input. The t function requires a string.');\n  }\n  if ( path.startsWith('$') ) {\n    try {\n      return JSONPath({\n        path,\n        json: obj,\n        wrap: false,\n      });\n    } catch (e) {\n      console.log('JSON Path error', e, path, obj); // eslint-disable-line no-console\n\n      return '(JSON Path err)';\n    }\n  }\n  if ( !path.includes('.') ) {\n    return obj?.[path];\n  }\n\n  const parts = splitObjectPath(path);\n\n  for (let i = 0; i < parts.length; i++) {\n    if (!obj) {\n      return;\n    }\n\n    obj = obj[parts[i]];\n  }\n\n  return obj;\n}\n\nexport function remove(obj, path) {\n  const parentAry = splitObjectPath(path);\n\n  // Remove the very last part of the path\n\n  if (parentAry.length === 1) {\n    Vue.set(obj, path, undefined);\n    delete obj[path];\n  } else {\n    const leafKey = parentAry.pop();\n    const parent = get(obj, joinObjectPath(parentAry));\n\n    if ( parent ) {\n      Vue.set(parent, leafKey, undefined);\n      delete parent[leafKey];\n    }\n  }\n\n  return obj;\n}\n\n/**\n * `delete` a property at the given path.\n *\n * This is similar to `remove` but doesn't need any fancy kube obj path splitting\n * and doesn't use `Vue.set` (avoids reactivity)\n */\nexport function deleteProperty(obj, path) {\n  const pathAr = path.split('.');\n  const propToDelete = pathAr.pop();\n\n  // Walk down path until final prop, then delete final prop\n  delete pathAr.reduce((o, k) => o[k] || {}, obj)[propToDelete];\n}\n\nexport function getter(path) {\n  return function(obj) {\n    return get(obj, path);\n  };\n}\n\nexport function clone(obj) {\n  return cloneDeep(obj);\n}\n\nexport function isEmpty(obj) {\n  if ( !obj ) {\n    return true;\n  }\n\n  return !Object.keys(obj).length;\n}\n\n/**\n * Checks to see if the object is a simple key value pair where all values are\n * just primitives.\n * @param {any} obj\n */\nexport function isSimpleKeyValue(obj) {\n  return obj !== null &&\n    !Array.isArray(obj) &&\n    typeof obj === 'object' &&\n    Object.values(obj || {}).every((v) => typeof v !== 'object');\n}\n\n/*\nreturns an object with no key/value pairs (including nested) where the value is:\n  empty array\n  empty object\n  null\n  undefined\n*/\nexport function cleanUp(obj) {\n  Object.keys(obj).map((key) => {\n    const val = obj[key];\n\n    if ( Array.isArray(val) ) {\n      obj[key] = val.map((each) => {\n        if (each !== null && each !== undefined) {\n          return cleanUp(each);\n        }\n      });\n      if (obj[key].length === 0) {\n        delete obj[key];\n      }\n    } else if (typeof val === 'undefined' || val === null) {\n      delete obj[key];\n    } else if ( isObject(val) ) {\n      if (isEmpty(val)) {\n        delete obj[key];\n      }\n      obj[key] = cleanUp(val);\n    }\n  });\n\n  return obj;\n}\n\nexport function definedKeys(obj) {\n  const keys = Object.keys(obj).map((key) => {\n    const val = obj[key];\n\n    if ( Array.isArray(val) ) {\n      return `\"${ key }\"`;\n    } else if ( isObject(val) ) {\n      // no need for quotes around the subkey since the recursive call will fill that in via one of the other two statements in the if block\n      return ( definedKeys(val) || [] ).map((subkey) => `\"${ key }\".${ subkey }`);\n    } else {\n      return `\"${ key }\"`;\n    }\n  });\n\n  return compact(flattenDeep(keys));\n}\n\nexport function diff(from, to) {\n  from = from || {};\n  to = to || {};\n\n  // Copy values in 'to' that are different than from\n  const out = transform(to, (res, toVal, k) => {\n    const fromVal = from[k];\n\n    if ( isEqual(toVal, fromVal) ) {\n      return;\n    }\n\n    if ( Array.isArray(toVal) || Array.isArray(fromVal) ) {\n      // Don't diff arrays, just use the whole value\n      res[k] = toVal;\n    } else if ( isObject(toVal) && isObject(from[k]) ) {\n      res[k] = diff(fromVal, toVal);\n    } else {\n      res[k] = toVal;\n    }\n  });\n\n  const fromKeys = definedKeys(from);\n  const toKeys = definedKeys(to);\n\n  // Return keys that are in 'from' but not 'to.'\n  const missing = difference(fromKeys, toKeys);\n\n  for ( const k of missing ) {\n    set(out, k, null);\n  }\n\n  return out;\n}\n\n/**\n * Super simple lodash isEqual equivalent.\n *\n * Only checks root properties for strict equality\n */\nfunction isEqualBasic(from, to) {\n  const fromKeys = Object.keys(from || {});\n  const toKeys = Object.keys(to || {});\n\n  if (fromKeys.length !== toKeys.length) {\n    return false;\n  }\n\n  for (let i = 0; i < fromKeys.length; i++) {\n    const fromValue = from[fromKeys[i]];\n    const toValue = to[fromKeys[i]];\n\n    if (fromValue !== toValue) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport { isEqualBasic as isEqual };\n\nexport function changeset(from, to, parentPath = []) {\n  let out = {};\n\n  if ( isEqual(from, to) ) {\n    return out;\n  }\n\n  for ( const k in from ) {\n    const path = joinObjectPath([...parentPath, k]);\n\n    if ( !(k in to) ) {\n      out[path] = { op: 'remove', path };\n    } else if ( (isObject(from[k]) && isObject(to[k])) || (isArray(from[k]) && isArray(to[k])) ) {\n      out = { ...out, ...changeset(from[k], to[k], [...parentPath, k]) };\n    } else if ( !isEqual(from[k], to[k]) ) {\n      out[path] = {\n        op: 'change', from: from[k], value: to[k]\n      };\n    }\n  }\n\n  for ( const k in to ) {\n    if ( !(k in from) ) {\n      const path = joinObjectPath([...parentPath, k]);\n\n      out[path] = { op: 'add', value: to[k] };\n    }\n  }\n\n  return out;\n}\n\nexport function changesetConflicts(a, b) {\n  let keys = Object.keys(a).sort();\n  const out = [];\n  const seen = {};\n\n  for ( const k of keys ) {\n    let ok = true;\n    const aa = a[k];\n    const bb = b[k];\n\n    // If we've seen a change for a parent of this key before (e.g. looking at `spec.replicas` and there's already been a change to `spec`), assume they conflict\n    for ( const parentKey of parentKeys(k) ) {\n      if ( seen[parentKey] ) {\n        ok = false;\n        break;\n      }\n    }\n\n    seen[k] = true;\n\n    if ( ok && bb ) {\n      switch ( `${ aa.op }-${ bb.op }` ) {\n      case 'add-add':\n      case 'add-change':\n      case 'change-add':\n      case 'change-change':\n        ok = isEqual(aa.value, bb.value);\n        break;\n\n      case 'add-remove':\n      case 'change-remove':\n      case 'remove-add':\n      case 'remove-change':\n        ok = false;\n        break;\n\n      case 'remove-remove':\n      default:\n        ok = true;\n        break;\n      }\n    }\n\n    if ( !ok ) {\n      addObject(out, k);\n    }\n  }\n\n  // Check parent keys going the other way\n  keys = Object.keys(b).sort();\n  for ( const k of keys ) {\n    let ok = true;\n\n    for ( const parentKey of parentKeys(k) ) {\n      if ( seen[parentKey] ) {\n        ok = false;\n        break;\n      }\n    }\n\n    seen[k] = true;\n\n    if ( !ok ) {\n      addObject(out, k);\n    }\n  }\n\n  return out.sort();\n\n  function parentKeys(k) {\n    const out = [];\n    const parts = splitObjectPath(k);\n\n    parts.pop();\n\n    while ( parts.length ) {\n      const path = joinObjectPath(parts);\n\n      out.push(path);\n      parts.pop();\n    }\n\n    return out;\n  }\n}\n\nexport function applyChangeset(obj, changeset) {\n  let entry;\n\n  for ( const path in changeset ) {\n    entry = changeset[path];\n\n    if ( entry.op === 'add' || entry.op === 'change' ) {\n      set(obj, path, entry.value);\n    } else if ( entry.op === 'remove' ) {\n      remove(obj, path);\n    } else {\n      throw new Error(`Unknown operation:${ entry.op }`);\n    }\n  }\n\n  return obj;\n}\n\n/**\n * Creates an object composed of the `object` properties `predicate` returns\n */\nexport function pickBy(obj = {}, predicate = (value, key) => false) {\n  return Object.entries(obj)\n    .reduce((res, [key, value]) => {\n      if (predicate(value, key)) {\n        res[key] = value;\n      }\n\n      return res;\n    }, {});\n}\n\n/**\n * Convert list to dictionary from a given function\n * @param {*} array\n * @param {*} callback\n * @returns\n */\nexport const toDictionary = (array, callback) => Object.assign(\n  {}, ...array.map((item) => ({ [item]: callback(item) }))\n);\n\nexport function dropKeys(obj, keys) {\n  if ( !obj ) {\n    return;\n  }\n\n  for ( const k of keys ) {\n    delete obj[k];\n  }\n}\n"],"mappings":"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","ignoreList":[]}]}