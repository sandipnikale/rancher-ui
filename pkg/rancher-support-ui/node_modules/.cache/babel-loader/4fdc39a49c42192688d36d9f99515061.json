{"remainingRequest":"/app/node_modules/thread-loader/dist/cjs.js!/app/node_modules/babel-loader/lib/index.js!/app/node_modules/@rancher/shell/models/management.cattle.io.roletemplate.js","dependencies":[{"path":"/app/node_modules/@rancher/shell/models/management.cattle.io.roletemplate.js","mtime":1764054237091},{"path":"/app/pkg/rancher-support-ui/babel.config.js","mtime":1764051174054},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1764054259024},{"path":"/app/node_modules/thread-loader/dist/cjs.js","mtime":1764054259111},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1764054258910}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgeyBnZXQgfSBmcm9tICdAc2hlbGwvdXRpbHMvb2JqZWN0JzsKaW1wb3J0IHsgREVTQ1JJUFRJT04gfSBmcm9tICdAc2hlbGwvY29uZmlnL2xhYmVscy1hbm5vdGF0aW9ucyc7CmltcG9ydCB7IE5PUk1BTiB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwppbXBvcnQgU3RldmVEZXNjcmlwdGlvbk1vZGVsIGZyb20gJ0BzaGVsbC9wbHVnaW5zL3N0ZXZlL3N0ZXZlLWRlc2NyaXB0aW9uLWNsYXNzJzsKaW1wb3J0IHsgQVMsIE1PREUsIF9DTE9ORSwgX1VORkxBRyB9IGZyb20gJ0BzaGVsbC9jb25maWcvcXVlcnktcGFyYW1zJzsKZXhwb3J0IGNvbnN0IENBVFRMRV9BUElfR1JPVVAgPSAnLmNhdHRsZS5pbyc7CmV4cG9ydCBjb25zdCBTVUJUWVBFX01BUFBJTkcgPSB7CiAgR0xPQkFMOiB7CiAgICBrZXk6ICdHTE9CQUwnLAogICAgdHlwZTogJ21hbmFnZW1lbnQuY2F0dGxlLmlvLmdsb2JhbHJvbGUnLAogICAgZGVmYXVsdEtleTogJ25ld1VzZXJEZWZhdWx0JywKICAgIGlkOiAnR0xPQkFMJywKICAgIGxhYmVsS2V5OiAncmJhYy5yb2xldGVtcGxhdGUuc3VidHlwZXMuR0xPQkFMLmxhYmVsJwogIH0sCiAgQ0xVU1RFUjogewogICAga2V5OiAnQ0xVU1RFUicsCiAgICB0eXBlOiAnbWFuYWdlbWVudC5jYXR0bGUuaW8ucm9sZXRlbXBsYXRlJywKICAgIGNvbnRleHQ6ICdjbHVzdGVyJywKICAgIGRlZmF1bHRLZXk6ICdjbHVzdGVyQ3JlYXRvckRlZmF1bHQnLAogICAgaWQ6ICdDTFVTVEVSJywKICAgIGxhYmVsS2V5OiAncmJhYy5yb2xldGVtcGxhdGUuc3VidHlwZXMuQ0xVU1RFUi5sYWJlbCcKICB9LAogIE5BTUVTUEFDRTogewogICAga2V5OiAnTkFNRVNQQUNFJywKICAgIHR5cGU6ICdtYW5hZ2VtZW50LmNhdHRsZS5pby5yb2xldGVtcGxhdGUnLAogICAgY29udGV4dDogJ3Byb2plY3QnLAogICAgZGVmYXVsdEtleTogJ3Byb2plY3RDcmVhdG9yRGVmYXVsdCcsCiAgICBpZDogJ05BTUVTUEFDRScsCiAgICBsYWJlbEtleTogJ3JiYWMucm9sZXRlbXBsYXRlLnN1YnR5cGVzLk5BTUVTUEFDRS5sYWJlbCcKICB9LAogIFJCQUNfUk9MRTogewogICAga2V5OiAnUkJBQ19ST0xFJywKICAgIHR5cGU6ICdyYmFjLmF1dGhvcml6YXRpb24uazhzLmlvLnJvbGUnLAogICAgaWQ6ICdSQkFDX1JPTEUnLAogICAgbGFiZWxLZXk6ICdyYmFjLnJvbGV0ZW1wbGF0ZS5zdWJ0eXBlcy5SQkFDX1JPTEUubGFiZWwnCiAgfSwKICBSQkFDX0NMVVNURVJfUk9MRTogewogICAga2V5OiAnUkJBQ19DTFVTVEVSX1JPTEUnLAogICAgdHlwZTogJ3JiYWMuYXV0aG9yaXphdGlvbi5rOHMuaW8uY2x1c3RlcnJvbGUnLAogICAgaWQ6ICdSQkFDX0NMVVNURVJfUk9MRScsCiAgICBsYWJlbEtleTogJ3JiYWMucm9sZXRlbXBsYXRlLnN1YnR5cGVzLlJCQUNfQ0xVU1RFUl9ST0xFLmxhYmVsJwogIH0KfTsKZXhwb3J0IGNvbnN0IFZFUkJTID0gWydjcmVhdGUnLCAnZGVsZXRlJywgJ2dldCcsICdsaXN0JywgJ3BhdGNoJywgJ3VwZGF0ZScsICd3YXRjaCddOwpleHBvcnQgY29uc3QgQ1JFQVRFX1ZFUkJTID0gbmV3IFNldChbJ1BVVCcsICdibG9ja2VkLVBVVCddKTsKZXhwb3J0IGRlZmF1bHQgY2xhc3MgUm9sZVRlbXBsYXRlIGV4dGVuZHMgU3RldmVEZXNjcmlwdGlvbk1vZGVsIHsKICBnZXQgY3VzdG9tVmFsaWRhdGlvblJ1bGVzKCkgewogICAgcmV0dXJuIFt7CiAgICAgIHBhdGg6ICdydWxlcycsCiAgICAgIHZhbGlkYXRvcnM6IFtgcm9sZVRlbXBsYXRlUnVsZXM6JHt0aGlzLnR5cGV9YF0sCiAgICAgIG51bGxhYmxlOiBmYWxzZSwKICAgICAgdHlwZTogJ2FycmF5JwogICAgfV07CiAgfQogIGdldCBkZXRhaWxzKCkgewogICAgdmFyIF90aGlzJG1ldGFkYXRhOwogICAgY29uc3Qgb3V0ID0gdGhpcy5fZGV0YWlsczsKICAgIG91dC51bnNoaWZ0KHsKICAgICAgbGFiZWw6IHRoaXMudCgncmVzb3VyY2VEZXRhaWwuZGV0YWlsVG9wLm5hbWUnKSwKICAgICAgY29udGVudDogZ2V0KHRoaXMsICduYW1lJykKICAgIH0sCiAgICAvLyBBUEkgcmV0dXJucyBhIGJsYW5rIGRlc2NyaXB0aW9uIHByb3BlcnR5LCB0aGlzIG92ZXJyaWRlcyBvdXIgb3duIGxpbmsgdG8gdGhlIGRlc2NyaXB0aW9uCiAgICB7CiAgICAgIGxhYmVsOiB0aGlzLnQoJ3Jlc291cmNlRGV0YWlsLmRldGFpbFRvcC5kZXNjcmlwdGlvbicpLAogICAgICBjb250ZW50OiAoX3RoaXMkbWV0YWRhdGEgPSB0aGlzLm1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfdGhpcyRtZXRhZGF0YSA9PT0gdm9pZCAwIHx8IChfdGhpcyRtZXRhZGF0YSA9IF90aGlzJG1ldGFkYXRhLmFubm90YXRpb25zKSA9PT0gbnVsbCB8fCBfdGhpcyRtZXRhZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkbWV0YWRhdGFbREVTQ1JJUFRJT05dCiAgICB9KTsKICAgIHJldHVybiBvdXQ7CiAgfQogIGdldCBzdGF0ZSgpIHsKICAgIHZhciBfdGhpcyRtZXRhZGF0YTI7CiAgICByZXR1cm4gdGhpcy5sb2NrZWQgPyAnbG9ja2VkJyA6ICgoX3RoaXMkbWV0YWRhdGEyID0gdGhpcy5tZXRhZGF0YSkgPT09IG51bGwgfHwgX3RoaXMkbWV0YWRhdGEyID09PSB2b2lkIDAgfHwgKF90aGlzJG1ldGFkYXRhMiA9IF90aGlzJG1ldGFkYXRhMi5zdGF0ZSkgPT09IG51bGwgfHwgX3RoaXMkbWV0YWRhdGEyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRtZXRhZGF0YTIubmFtZSkgfHwgJ3Vua25vd24nOwogIH0KICBnZXQgc3VidHlwZSgpIHsKICAgIGlmICh0aGlzLl9zdWJ0eXBlKSB7CiAgICAgIHJldHVybiB0aGlzLl9zdWJ0eXBlOwogICAgfQogICAgaWYgKHRoaXMudHlwZSA9PT0gU1VCVFlQRV9NQVBQSU5HLkNMVVNURVIudHlwZSAmJiB0aGlzLmNvbnRleHQgPT09IFNVQlRZUEVfTUFQUElORy5DTFVTVEVSLmNvbnRleHQpIHsKICAgICAgcmV0dXJuIFNVQlRZUEVfTUFQUElORy5DTFVTVEVSLmtleTsKICAgIH0KICAgIGlmICh0aGlzLnR5cGUgPT09IFNVQlRZUEVfTUFQUElORy5OQU1FU1BBQ0UudHlwZSAmJiB0aGlzLmNvbnRleHQgPT09IFNVQlRZUEVfTUFQUElORy5OQU1FU1BBQ0UuY29udGV4dCkgewogICAgICByZXR1cm4gU1VCVFlQRV9NQVBQSU5HLk5BTUVTUEFDRS5rZXk7CiAgICB9CiAgICByZXR1cm4gbnVsbDsKICB9CiAgdXBkYXRlU3VidHlwZShzdWJ0eXBlKSB7CiAgICBWdWUuc2V0KHRoaXMsICdfc3VidHlwZScsIHN1YnR5cGUpOwogICAgdGhpcy5jb250ZXh0ID0gU1VCVFlQRV9NQVBQSU5HW3N1YnR5cGVdLmNvbnRleHQ7CiAgfQogIGdldCBkZWZhdWx0KCkgewogICAgdmFyIF9TVUJUWVBFX01BUFBJTkckdGhpczsKICAgIGNvbnN0IGRlZmF1bHRLZXkgPSAoX1NVQlRZUEVfTUFQUElORyR0aGlzID0gU1VCVFlQRV9NQVBQSU5HW3RoaXMuc3VidHlwZV0pID09PSBudWxsIHx8IF9TVUJUWVBFX01BUFBJTkckdGhpcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX1NVQlRZUEVfTUFQUElORyR0aGlzLmRlZmF1bHRLZXk7CiAgICByZXR1cm4gISF0aGlzW2RlZmF1bHRLZXldOwogIH0KICB1cGRhdGVEZWZhdWx0KHZhbHVlKSB7CiAgICBjb25zdCBkZWZhdWx0S2V5ID0gU1VCVFlQRV9NQVBQSU5HW3RoaXMuc3VidHlwZV0uZGVmYXVsdEtleTsKICAgIFZ1ZS5zZXQodGhpcywgZGVmYXVsdEtleSwgdmFsdWUpOwogIH0KICBnZXQgbGlzdExvY2F0aW9uKCkgewogICAgcmV0dXJuIHsKICAgICAgbmFtZTogYGMtY2x1c3Rlci1hdXRoLXJvbGVzYCwKICAgICAgaGFzaDogYCMke3RoaXMuc3VidHlwZX1gCiAgICB9OwogIH0KICBnZXQgZGV0YWlsTG9jYXRpb24oKSB7CiAgICByZXR1cm4gewogICAgICAuLi50aGlzLl9kZXRhaWxMb2NhdGlvbiwKICAgICAgbmFtZTogYGMtY2x1c3Rlci1hdXRoLXJvbGVzLXJlc291cmNlLWlkYAogICAgfTsKICB9CiAgZ2V0IGRvbmVPdmVycmlkZSgpIHsKICAgIHJldHVybiB0aGlzLmxpc3RMb2NhdGlvbjsKICB9CiAgZ2V0IHBhcmVudExvY2F0aW9uT3ZlcnJpZGUoKSB7CiAgICByZXR1cm4gdGhpcy5saXN0TG9jYXRpb247CiAgfQogIGdldCBiYXNpY05vcm1hbigpIHsKICAgIGlmICh0aGlzLmlkKSB7CiAgICAgIHJldHVybiB0aGlzLiRkaXNwYXRjaChgcmFuY2hlci9maW5kYCwgewogICAgICAgIGlkOiB0aGlzLmlkLAogICAgICAgIHR5cGU6IE5PUk1BTi5ST0xFX1RFTVBMQVRFCiAgICAgIH0sIHsKICAgICAgICByb290OiB0cnVlCiAgICAgIH0pOwogICAgfQogICAgcmV0dXJuIHRoaXMuJGRpc3BhdGNoKGByYW5jaGVyL2NyZWF0ZWAsIHsKICAgICAgdHlwZTogTk9STUFOLlJPTEVfVEVNUExBVEUsCiAgICAgIG5hbWU6IHRoaXMuZGlzcGxheU5hbWUKICAgIH0sIHsKICAgICAgcm9vdDogdHJ1ZQogICAgfSk7CiAgfQogIGdldCBub3JtYW4oKSB7CiAgICByZXR1cm4gKGFzeW5jICgpID0+IHsKICAgICAgY29uc3Qgbm9ybWFuID0gYXdhaXQgdGhpcy5iYXNpY05vcm1hbjsKICAgICAgbm9ybWFuLnJ1bGVzID0gdGhpcy5ydWxlczsKICAgICAgbm9ybWFuLmxvY2tlZCA9IHRoaXMubG9ja2VkOwogICAgICBub3JtYW4uY2x1c3RlckNyZWF0b3JEZWZhdWx0ID0gdGhpcy5jbHVzdGVyQ3JlYXRvckRlZmF1bHQgfHwgZmFsc2U7CiAgICAgIG5vcm1hbi5wcm9qZWN0Q3JlYXRvckRlZmF1bHQgPSB0aGlzLnByb2plY3RDcmVhdG9yRGVmYXVsdCB8fCBmYWxzZTsKICAgICAgbm9ybWFuLmNvbnRleHQgPSB0aGlzLmNvbnRleHQ7CiAgICAgIG5vcm1hbi5kZXNjcmlwdGlvbiA9IHRoaXMuZGVzY3JpcHRpb247CiAgICAgIG5vcm1hbi5yb2xlVGVtcGxhdGVJZHMgPSB0aGlzLnJvbGVUZW1wbGF0ZU5hbWVzOwogICAgICByZXR1cm4gbm9ybWFuOwogICAgfSkoKTsKICB9CiAgZ2V0IGNhbkNyZWF0ZSgpIHsKICAgIGNvbnN0IHNjaGVtYSA9IHRoaXMuJGdldHRlcnNbJ3NjaGVtYUZvciddKHRoaXMudHlwZSk7CiAgICByZXR1cm4gc2NoZW1hID09PSBudWxsIHx8IHNjaGVtYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2NoZW1hLnJlc291cmNlTWV0aG9kcy5maW5kKHZlcmIgPT4gQ1JFQVRFX1ZFUkJTLmhhcyh2ZXJiKSk7CiAgfQogIGdvVG9DbG9uZShtb3JlUXVlcnkgPSB7fSkgewogICAgY29uc3QgbG9jYXRpb24gPSB0aGlzLmRldGFpbExvY2F0aW9uOwogICAgbG9jYXRpb24ucXVlcnkgPSB7CiAgICAgIC4uLmxvY2F0aW9uLnF1ZXJ5LAogICAgICBbTU9ERV06IF9DTE9ORSwKICAgICAgW0FTXTogX1VORkxBRywKICAgICAgcm9sZUNvbnRleHQ6IHRoaXMuc3VidHlwZSwKICAgICAgLi4ubW9yZVF1ZXJ5CiAgICB9OwogICAgdGhpcy5jdXJyZW50Um91dGVyKCkucHVzaChsb2NhdGlvbik7CiAgfQogIGFzeW5jIHNhdmUoKSB7CiAgICBjb25zdCBub3JtYW4gPSBhd2FpdCB0aGlzLm5vcm1hbjsKICAgIGZvciAoY29uc3QgcnVsZSBvZiBub3JtYW4ucnVsZXMpIHsKICAgICAgaWYgKHJ1bGUubm9uUmVzb3VyY2VVUkxzICYmIHJ1bGUubm9uUmVzb3VyY2VVUkxzLmxlbmd0aCkgewogICAgICAgIGRlbGV0ZSBydWxlLnJlc291cmNlczsKICAgICAgICBkZWxldGUgcnVsZS5hcGlHcm91cHM7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZGVsZXRlIHJ1bGUubm9uUmVzb3VyY2VVUkxzOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gbm9ybWFuLnNhdmUoKTsKICB9CiAgYXN5bmMgcmVtb3ZlKCkgewogICAgY29uc3Qgbm9ybWFuID0gYXdhaXQgdGhpcy5ub3JtYW47CiAgICBhd2FpdCBub3JtYW4ucmVtb3ZlKCk7CiAgfQp9"},{"version":3,"names":["Vue","get","DESCRIPTION","NORMAN","SteveDescriptionModel","AS","MODE","_CLONE","_UNFLAG","CATTLE_API_GROUP","SUBTYPE_MAPPING","GLOBAL","key","type","defaultKey","id","labelKey","CLUSTER","context","NAMESPACE","RBAC_ROLE","RBAC_CLUSTER_ROLE","VERBS","CREATE_VERBS","Set","RoleTemplate","customValidationRules","path","validators","nullable","details","_this$metadata","out","_details","unshift","label","t","content","metadata","annotations","state","_this$metadata2","locked","name","subtype","_subtype","updateSubtype","set","default","_SUBTYPE_MAPPING$this","updateDefault","value","listLocation","hash","detailLocation","_detailLocation","doneOverride","parentLocationOverride","basicNorman","$dispatch","ROLE_TEMPLATE","root","displayName","norman","rules","clusterCreatorDefault","projectCreatorDefault","description","roleTemplateIds","roleTemplateNames","canCreate","schema","$getters","resourceMethods","find","verb","has","goToClone","moreQuery","location","query","roleContext","currentRouter","push","save","rule","nonResourceURLs","length","resources","apiGroups","remove"],"sources":["/app/node_modules/@rancher/shell/models/management.cattle.io.roletemplate.js"],"sourcesContent":["import Vue from 'vue';\nimport { get } from '@shell/utils/object';\nimport { DESCRIPTION } from '@shell/config/labels-annotations';\nimport { NORMAN } from '@shell/config/types';\nimport SteveDescriptionModel from '@shell/plugins/steve/steve-description-class';\nimport { AS, MODE, _CLONE, _UNFLAG } from '@shell/config/query-params';\n\nexport const CATTLE_API_GROUP = '.cattle.io';\n\nexport const SUBTYPE_MAPPING = {\n  GLOBAL: {\n    key:        'GLOBAL',\n    type:       'management.cattle.io.globalrole',\n    defaultKey: 'newUserDefault',\n    id:         'GLOBAL',\n    labelKey:   'rbac.roletemplate.subtypes.GLOBAL.label',\n  },\n  CLUSTER: {\n    key:        'CLUSTER',\n    type:       'management.cattle.io.roletemplate',\n    context:    'cluster',\n    defaultKey: 'clusterCreatorDefault',\n    id:         'CLUSTER',\n    labelKey:   'rbac.roletemplate.subtypes.CLUSTER.label',\n  },\n  NAMESPACE: {\n    key:        'NAMESPACE',\n    type:       'management.cattle.io.roletemplate',\n    context:    'project',\n    defaultKey: 'projectCreatorDefault',\n    id:         'NAMESPACE',\n    labelKey:   'rbac.roletemplate.subtypes.NAMESPACE.label',\n  },\n  RBAC_ROLE: {\n    key:      'RBAC_ROLE',\n    type:     'rbac.authorization.k8s.io.role',\n    id:       'RBAC_ROLE',\n    labelKey: 'rbac.roletemplate.subtypes.RBAC_ROLE.label',\n  },\n  RBAC_CLUSTER_ROLE: {\n    key:      'RBAC_CLUSTER_ROLE',\n    type:     'rbac.authorization.k8s.io.clusterrole',\n    id:       'RBAC_CLUSTER_ROLE',\n    labelKey: 'rbac.roletemplate.subtypes.RBAC_CLUSTER_ROLE.label',\n  }\n};\n\nexport const VERBS = [\n  'create',\n  'delete',\n  'get',\n  'list',\n  'patch',\n  'update',\n  'watch',\n];\n\nexport const CREATE_VERBS = new Set(['PUT', 'blocked-PUT']);\n\nexport default class RoleTemplate extends SteveDescriptionModel {\n  get customValidationRules() {\n    return [\n      {\n        path:       'rules',\n        validators: [`roleTemplateRules:${ this.type }`],\n        nullable:   false,\n        type:       'array',\n      },\n    ];\n  }\n\n  get details() {\n    const out = this._details;\n\n    out.unshift({\n      label:   this.t('resourceDetail.detailTop.name'),\n      content: get(this, 'name')\n    },\n    // API returns a blank description property, this overrides our own link to the description\n    {\n      label:   this.t('resourceDetail.detailTop.description'),\n      content: this.metadata?.annotations?.[DESCRIPTION]\n    });\n\n    return out;\n  }\n\n  get state() {\n    return this.locked ? 'locked' : this.metadata?.state?.name || 'unknown';\n  }\n\n  get subtype() {\n    if (this._subtype) {\n      return this._subtype;\n    }\n\n    if (this.type === SUBTYPE_MAPPING.CLUSTER.type && this.context === SUBTYPE_MAPPING.CLUSTER.context) {\n      return SUBTYPE_MAPPING.CLUSTER.key;\n    }\n\n    if (this.type === SUBTYPE_MAPPING.NAMESPACE.type && this.context === SUBTYPE_MAPPING.NAMESPACE.context) {\n      return SUBTYPE_MAPPING.NAMESPACE.key;\n    }\n\n    return null;\n  }\n\n  updateSubtype(subtype) {\n    Vue.set(this, '_subtype', subtype);\n    this.context = SUBTYPE_MAPPING[subtype].context;\n  }\n\n  get default() {\n    const defaultKey = SUBTYPE_MAPPING[this.subtype]?.defaultKey;\n\n    return !!this[defaultKey];\n  }\n\n  updateDefault(value) {\n    const defaultKey = SUBTYPE_MAPPING[this.subtype].defaultKey;\n\n    Vue.set(this, defaultKey, value);\n  }\n\n  get listLocation() {\n    return {\n      name: `c-cluster-auth-roles`,\n      hash: `#${ this.subtype }`\n    };\n  }\n\n  get detailLocation() {\n    return {\n      ...this._detailLocation,\n      name: `c-cluster-auth-roles-resource-id`,\n    };\n  }\n\n  get doneOverride() {\n    return this.listLocation;\n  }\n\n  get parentLocationOverride() {\n    return this.listLocation;\n  }\n\n  get basicNorman() {\n    if (this.id) {\n      return this.$dispatch(`rancher/find`, { id: this.id, type: NORMAN.ROLE_TEMPLATE }, { root: true });\n    }\n\n    return this.$dispatch(`rancher/create`, { type: NORMAN.ROLE_TEMPLATE, name: this.displayName }, { root: true });\n  }\n\n  get norman() {\n    return (async() => {\n      const norman = await this.basicNorman;\n\n      norman.rules = this.rules;\n      norman.locked = this.locked;\n      norman.clusterCreatorDefault = this.clusterCreatorDefault || false;\n      norman.projectCreatorDefault = this.projectCreatorDefault || false;\n      norman.context = this.context;\n      norman.description = this.description;\n      norman.roleTemplateIds = this.roleTemplateNames;\n\n      return norman;\n    })();\n  }\n\n  get canCreate() {\n    const schema = this.$getters['schemaFor'](this.type);\n\n    return schema?.resourceMethods.find((verb) => CREATE_VERBS.has(verb));\n  }\n\n  goToClone(moreQuery = {}) {\n    const location = this.detailLocation;\n\n    location.query = {\n      ...location.query,\n      [MODE]:      _CLONE,\n      [AS]:        _UNFLAG,\n      roleContext: this.subtype,\n      ...moreQuery\n    };\n\n    this.currentRouter().push(location);\n  }\n\n  async save() {\n    const norman = await this.norman;\n\n    for (const rule of norman.rules) {\n      if (rule.nonResourceURLs && rule.nonResourceURLs.length) {\n        delete rule.resources;\n        delete rule.apiGroups;\n      } else {\n        delete rule.nonResourceURLs;\n      }\n    }\n\n    return norman.save();\n  }\n\n  async remove() {\n    const norman = await this.norman;\n\n    await norman.remove();\n  }\n}\n"],"mappings":"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","ignoreList":[]}]}