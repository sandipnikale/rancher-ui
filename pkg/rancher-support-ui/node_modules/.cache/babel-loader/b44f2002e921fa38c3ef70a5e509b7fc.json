{"remainingRequest":"/app/node_modules/thread-loader/dist/cjs.js!/app/node_modules/babel-loader/lib/index.js!/app/node_modules/cache-loader/dist/cjs.js??ref--2-0!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/node_modules/@rancher/shell/components/Wizard.vue?vue&type=script&lang=js","dependencies":[{"path":"/app/node_modules/@rancher/shell/components/Wizard.vue","mtime":1764054237091},{"path":"/app/pkg/rancher-support-ui/babel.config.js","mtime":1764051174054},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1764054259024},{"path":"/app/node_modules/thread-loader/dist/cjs.js","mtime":1764054259111},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1764054258910},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1764054259024},{"path":"/app/node_modules/vue-loader/lib/index.js","mtime":1764054260995}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEFzeW5jQnV0dG9uIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0FzeW5jQnV0dG9uJzsKaW1wb3J0IHsgQmFubmVyIH0gZnJvbSAnQGNvbXBvbmVudHMvQmFubmVyJzsKaW1wb3J0IExvYWRpbmcgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvTG9hZGluZyc7CmltcG9ydCB7IHN0cmluZ2lmeSB9IGZyb20gJ0BzaGVsbC91dGlscy9lcnJvcic7CgovKgpXaXphcmQgYWNjZXB0cyBhbiBhcnJheSBvZiBzdGVwcyAoc2VlIHByb3BzKSwgYW5kIGNyZWF0ZXMgbmFtZWQgc2xvdHMgZm9yIGVhY2ggc3RlcC4KSXQgYWxzbyBjb250YWlucyBzbG90cyBmb3IgYnV0dG9uczoKICAgIG5leHQKICAgIGNhbmNlbAogICAgZmluaXNoCgpXaXphcmQgd2lsbCBlbWl0IHRoZXNlIGV2ZW50czoKICAgIG5leHQoe3N0ZXB9KQogICAgY2FuY2VsCiAgICBmaW5pc2gKKi8KCi8vIGkxOG4tdXNlcyB3aXphcmQubmV4dCwgd2l6YXJkLmVkaXQsIHdpemFyZC5jcmVhdGUsIHdpemFyZC52aWV3LCB3aXphcmQuZmluaXNoCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnV2l6YXJkJywKICBjb21wb25lbnRzOiB7CiAgICBBc3luY0J1dHRvbiwKICAgIEJhbm5lciwKICAgIExvYWRpbmcKICB9LAogIHByb3BzOiB7CiAgICAvKgogICAgc3RlcHMgbmVlZDogewogICAgbmFtZTogU3RyaW5nIC0gdGhpcyB3aWxsIGJlIHRoZSBzbG90IG5hbWUKICAgIGxhYmVsOiBTdHJpbmcgLSB0aGlzIHdpbGwgYXBwZWFyIGluIHRoZSB0b3AgbmF2IGJhciBiZWxvdyBjaXJjbGVzCiAgICBzdWJ0ZXh0OiBTdHJpbmcgKG9wdGlvbmFsKSAtIElmIGRlZmluZWQsIGFwcGVhcnMgYmVsb3cgdGhlIHN0ZXAgbnVtYmVyIGluIHRoZSBiYW5uZXIuIElmIGJsYW5rLCBsYWJlbCBpcyB1c2VkCiAgICByZWFkeTogQm9vbGVhbiAtIHdoZXRoZXIgb3Igbm90IHRoZSBzdGVwIGlzIGNvbXBsZXRlZC93aXphcmQgaXMgYWJsZSB0byBnbyB0byBuZXh0IHN0ZXAKICAgICAgaWYgYSBzdGVwIGhhcyByZWFkeT10cnVlLCB0aGUgd2l6YXJkIGFsc28gYWxsb3dzIG5hdmlnYXRpb24gKmJhY2sqIHRvIGl0CiAgICBoaWRkZW46IERvbid0IHNob3cgc3RlcCwgdGhvdWdoIGluY2x1ZGUgaW4gRE9NIChkeW5hbWljIHN0ZXBzIG11c3QgYmUgaW4gRE9NIHRvIGRldGVybWluZSBpZiB0aGV5IHdpbGwgaW5jbHVkZSB0aGVtc2VsdmVzIGluIHdpemFyZCkKICAgIGxvYWRpbmc6IFdpemFyZCB3aWxsIGJsb2NrIHVudGlsIGFsbCBzdGVwcyBhcmUgbm90IGxvYWRpbmcKICAgIG5leHRCdXR0b24/OiB7CiAgICAgIGxhYmVsS2V5PzogZGVmYXVsdCB0byBgd2l6YXJkLm5leHRgCiAgICAgIHN0eWxlPzogIGRlZmF1bHRzIHRvIGBidG4gcm9sZS1wcmltYXJ5YAogICAgfSwKICAgIHByZXZpb3VzQnV0dG9uOiB7CiAgICAgIGRpc2FibGU6IGRlZmF1bHRzIHRvIGZhbHNlCiAgICB9CiAgICB9CiAgICAqLwogICAgc3RlcHM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgLy8gSW5pdGlhbCBzdGVwIHRvIHNob3cgd2hlbiBXaXphcmQgbG9hZHMuCiAgICBpbml0U3RlcEluZGV4OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMAogICAgfSwKICAgIC8vIGlmIHRydWUsIGFsbG93IHVzZXJzIHRvIG5hdmlnYXRlIGJhY2sgdG8gdGhlIGZpcnN0IHN0ZXAgb2YgdGhlIFdpemFyZAogICAgLy8gaWYgZmFsc2UsIG9ubHkgd2F5IGJhY2sgdG8gc3RlcCAxIGlzIHRvIGNhbmNlbCBhbmQgdW5kbyBhbGwgY29uZmlndXJhdGlvbgogICAgZWRpdEZpcnN0U3RlcDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHNob3dCYW5uZXI6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIC8vIHdoZXRoZXIgb3Igbm90IHRvIHNob3cgdGhlIG92ZXJhbGwgdGl0bGUvaW1hZ2Ugb24gbGVmdCBvZiBiYW5uZXIgaGVhZGVyIGluIGZpcnN0IHN0ZXAKICAgIGluaXRpYWxUaXRsZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgLy8gcGxhY2UgdGhlIHNhbWUgdGl0bGUgKGUuZy4gdGhlIHR5cGUgb2YgdGhpbmcgYmVpbmcgY3JlYXRlZCBieSB3aXphcmQpIG9uIGV2ZXJ5IHBhZ2UKICAgIGJhbm5lclRpdGxlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIC8vIGNpcmN1bGFyIGltYWdlIGxlZnQgb2YgYmFubmVyIHRpdGxlCiAgICBiYW5uZXJJbWFnZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBiYW5uZXJUaXRsZVN1YnRleHQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgLy8gVmVyYiBzaG93biBpbiB0aGUgaGVhZGVyLCBkZWZhdWx0cyB0byBmaW5pc2hNb2RlCiAgICBoZWFkZXJNb2RlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIC8vIFRoZSBzZXQgb2YgbGFiZWxzIHRvIGRpc3BsYXkgZm9yIHRoZSBmaW5pc2ggQXN5bmNCdXR0b24KICAgIGZpbmlzaE1vZGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnZmluaXNoJwogICAgfSwKICAgIC8vIEVycm9ycyB0byBkaXNwbGF5IGFib3ZlIHRoZSBidXR0b25zCiAgICBlcnJvcnM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhY3RpdmVTdGVwOiBudWxsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGVycm9yU3RyaW5ncygpIHsKICAgICAgcmV0dXJuICh0aGlzLmVycm9ycyB8fCBbXSkubWFwKHggPT4gc3RyaW5naWZ5KHgpKTsKICAgIH0sCiAgICBhY3RpdmVTdGVwSW5kZXgoKSB7CiAgICAgIHJldHVybiB0aGlzLnZpc2libGVTdGVwcy5maW5kSW5kZXgocyA9PiBzLm5hbWUgPT09IHRoaXMuYWN0aXZlU3RlcC5uYW1lKTsKICAgIH0sCiAgICBzaG93UHJldmlvdXMoKSB7CiAgICAgIC8vIElmIG9uIGZpcnN0IHN0ZXAuLi4KICAgICAgaWYgKHRoaXMuYWN0aXZlU3RlcEluZGV4ID09PSAwKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIC8vIC4uIG9yIGFueSBwcmV2aW91cyBzdGVwIGlzbid0IGhpZGRlbgogICAgICBmb3IgKGxldCBzdGVwSW5kZXggPSAwOyBzdGVwSW5kZXggPCB0aGlzLmFjdGl2ZVN0ZXBJbmRleDsgc3RlcEluZGV4KyspIHsKICAgICAgICBjb25zdCBzdGVwID0gdGhpcy52aXNpYmxlU3RlcHNbc3RlcEluZGV4XTsKICAgICAgICBpZiAoIXN0ZXApIHsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICBpZiAoIXN0ZXAuaGlkZGVuKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSwKICAgIGNhblByZXZpb3VzKCkgewogICAgICB2YXIgX3RoaXMkYWN0aXZlU3RlcDsKICAgICAgcmV0dXJuICEoKF90aGlzJGFjdGl2ZVN0ZXAgPSB0aGlzLmFjdGl2ZVN0ZXApICE9PSBudWxsICYmIF90aGlzJGFjdGl2ZVN0ZXAgIT09IHZvaWQgMCAmJiAoX3RoaXMkYWN0aXZlU3RlcCA9IF90aGlzJGFjdGl2ZVN0ZXAucHJldmlvdXNCdXR0b24pICE9PSBudWxsICYmIF90aGlzJGFjdGl2ZVN0ZXAgIT09IHZvaWQgMCAmJiBfdGhpcyRhY3RpdmVTdGVwLmRpc2FibGUpICYmICh0aGlzLmFjdGl2ZVN0ZXBJbmRleCA+IDEgfHwgdGhpcy5lZGl0Rmlyc3RTdGVwKTsKICAgIH0sCiAgICBjYW5OZXh0KCkgewogICAgICByZXR1cm4gdGhpcy5hY3RpdmVTdGVwSW5kZXggPCB0aGlzLnZpc2libGVTdGVwcy5sZW5ndGggLSAxICYmIHRoaXMuYWN0aXZlU3RlcC5yZWFkeTsKICAgIH0sCiAgICByZWFkeVN0ZXBzKCkgewogICAgICByZXR1cm4gdGhpcy52aXNpYmxlU3RlcHMuZmlsdGVyKHN0ZXAgPT4gc3RlcC5yZWFkeSk7CiAgICB9LAogICAgc2hvd1N0ZXBzKCkgewogICAgICByZXR1cm4gdGhpcy5hY3RpdmVTdGVwLnNob3dTdGVwcyAhPT0gZmFsc2UgJiYgdGhpcy52aXNpYmxlU3RlcHMubGVuZ3RoID4gMTsKICAgIH0sCiAgICBzdGVwc0xvYWRlZCgpIHsKICAgICAgcmV0dXJuICF0aGlzLnN0ZXBzLnNvbWUoc3RlcCA9PiBzdGVwLmxvYWRpbmcgPT09IHRydWUpOwogICAgfSwKICAgIHZpc2libGVTdGVwcygpIHsKICAgICAgcmV0dXJuIHRoaXMuc3RlcHMuZmlsdGVyKHN0ZXAgPT4gIXN0ZXAuaGlkZGVuKTsKICAgIH0sCiAgICBuZXh0QnV0dG9uU3R5bGUoKSB7CiAgICAgIHZhciBfdGhpcyRhY3RpdmVTdGVwJG5leHQ7CiAgICAgIHJldHVybiAoKF90aGlzJGFjdGl2ZVN0ZXAkbmV4dCA9IHRoaXMuYWN0aXZlU3RlcC5uZXh0QnV0dG9uKSA9PT0gbnVsbCB8fCBfdGhpcyRhY3RpdmVTdGVwJG5leHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGFjdGl2ZVN0ZXAkbmV4dC5zdHlsZSkgfHwgYGJ0biByb2xlLXByaW1hcnlgOwogICAgfSwKICAgIG5leHRCdXR0b25MYWJlbCgpIHsKICAgICAgdmFyIF90aGlzJGFjdGl2ZVN0ZXAkbmV4dDI7CiAgICAgIHJldHVybiAoKF90aGlzJGFjdGl2ZVN0ZXAkbmV4dDIgPSB0aGlzLmFjdGl2ZVN0ZXAubmV4dEJ1dHRvbikgPT09IG51bGwgfHwgX3RoaXMkYWN0aXZlU3RlcCRuZXh0MiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkYWN0aXZlU3RlcCRuZXh0Mi5sYWJlbEtleSkgfHwgYHdpemFyZC5uZXh0YDsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBzdGVwc0xvYWRlZChuZXUsIG9sZCkgewogICAgICBpZiAoIW9sZCAmJiBuZXUpIHsKICAgICAgICB0aGlzLmFjdGl2ZVN0ZXAgPSB0aGlzLnZpc2libGVTdGVwc1t0aGlzLmluaXRTdGVwSW5kZXhdOwogICAgICAgIHRoaXMuZ29Ub1N0ZXAodGhpcy5hY3RpdmVTdGVwSW5kZXggKyAxKTsKICAgICAgfQogICAgfSwKICAgIGVycm9ycygpIHsKICAgICAgLy8gRW5zdXJjZSB3ZSBzY3JvbGwgdGhlIGVycm9ycyBpbnRvIHZpZXcKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMuJHJlZnMud2l6YXJkLnNjcm9sbFRvcCA9IHRoaXMuJHJlZnMud2l6YXJkLnNjcm9sbEhlaWdodDsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5hY3RpdmVTdGVwID0gdGhpcy52aXNpYmxlU3RlcHNbdGhpcy5pbml0U3RlcEluZGV4XTsKICAgIHRoaXMuZ29Ub1N0ZXAodGhpcy5hY3RpdmVTdGVwSW5kZXggKyAxKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdvVG9TdGVwKG51bWJlciwgZnJvbU5hdikgewogICAgICBpZiAobnVtYmVyIDwgMSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgLy8gaWYgZWRpdEZpcnN0U3RlcCBpcyBmYWxzZSwgZG8gbm90IGFsbG93IHJldHVybmluZyB0byBzdGVwIDEgKHJlc3RhcnRpbmcgd2l6YXJkKSBmcm9tIHRvcCBuYXYKICAgICAgaWYgKCF0aGlzLmVkaXRGaXJzdFN0ZXAgJiYgbnVtYmVyID09PSAxICYmIGZyb21OYXYpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgY29uc3Qgc2VsZWN0ZWQgPSB0aGlzLnZpc2libGVTdGVwc1tudW1iZXIgLSAxXTsKICAgICAgaWYgKCFzZWxlY3RlZCB8fCAhdGhpcy5pc0F2YWlsYWJsZShzZWxlY3RlZCkgJiYgbnVtYmVyICE9PSAxKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuYWN0aXZlU3RlcCA9IHNlbGVjdGVkOwogICAgICB0aGlzLiRlbWl0KCduZXh0JywgewogICAgICAgIHN0ZXA6IHNlbGVjdGVkCiAgICAgIH0pOwogICAgfSwKICAgIGNhbmNlbCgpIHsKICAgICAgdGhpcy4kZW1pdCgnY2FuY2VsJyk7CiAgICB9LAogICAgZmluaXNoKGNiKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2ZpbmlzaCcsIGNiKTsKICAgIH0sCiAgICBuZXh0KCkgewogICAgICB0aGlzLmdvVG9TdGVwKHRoaXMuYWN0aXZlU3RlcEluZGV4ICsgMik7CiAgICB9LAogICAgYmFjaygpIHsKICAgICAgdGhpcy5nb1RvU3RlcCh0aGlzLmFjdGl2ZVN0ZXBJbmRleCk7CiAgICB9LAogICAgLy8gYSBzdGVwIGlzIG5vdCBhdmFpbGFibGUgaWYgcmVhZHk9ZmFsc2UgZm9yIGFueSBwcmV2aW91cyBzdGVwcyBPUiBpZiB0aGUgZWRpdEZpcnN0U3RlcD1mYWxzZSBhbmQgaXQgaXMgdGhlIGZpcnN0IHN0ZXAKICAgIGlzQXZhaWxhYmxlKHN0ZXApIHsKICAgICAgaWYgKCFzdGVwKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIGNvbnN0IGlkeCA9IHRoaXMudmlzaWJsZVN0ZXBzLmZpbmRJbmRleChzID0+IHMubmFtZSA9PT0gc3RlcC5uYW1lKTsKICAgICAgaWYgKGlkeCA9PT0gMCAmJiAhdGhpcy5lZGl0Rmlyc3RTdGVwKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaWR4OyBpKyspIHsKICAgICAgICBpZiAodGhpcy52aXNpYmxlU3RlcHNbaV0ucmVhZHkgPT09IGZhbHNlKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH0KfTs="},{"version":3,"names":["AsyncButton","Banner","Loading","stringify","name","components","props","steps","type","Array","required","initStepIndex","Number","default","editFirstStep","Boolean","showBanner","initialTitle","bannerTitle","String","bannerImage","bannerTitleSubtext","headerMode","finishMode","errors","data","activeStep","computed","errorStrings","map","x","activeStepIndex","visibleSteps","findIndex","s","showPrevious","stepIndex","step","hidden","canPrevious","_this$activeStep","previousButton","disable","canNext","length","ready","readySteps","filter","showSteps","stepsLoaded","some","loading","nextButtonStyle","_this$activeStep$next","nextButton","style","nextButtonLabel","_this$activeStep$next2","labelKey","watch","neu","old","goToStep","$nextTick","$refs","wizard","scrollTop","scrollHeight","created","methods","number","fromNav","selected","isAvailable","$emit","cancel","finish","cb","next","back","idx","i"],"sources":["../../node_modules/@rancher/shell/components/Wizard.vue"],"sourcesContent":["<script>\n\nimport AsyncButton from '@shell/components/AsyncButton';\nimport { Banner } from '@components/Banner';\nimport Loading from '@shell/components/Loading';\nimport { stringify } from '@shell/utils/error';\n\n/*\nWizard accepts an array of steps (see props), and creates named slots for each step.\nIt also contains slots for buttons:\n    next\n    cancel\n    finish\n\nWizard will emit these events:\n    next({step})\n    cancel\n    finish\n*/\n\n// i18n-uses wizard.next, wizard.edit, wizard.create, wizard.view, wizard.finish\nexport default {\n  name: 'Wizard',\n\n  components: {\n    AsyncButton,\n    Banner,\n    Loading,\n  },\n\n  props: {\n    /*\n  steps need: {\n    name: String - this will be the slot name\n    label: String - this will appear in the top nav bar below circles\n    subtext: String (optional) - If defined, appears below the step number in the banner. If blank, label is used\n    ready: Boolean - whether or not the step is completed/wizard is able to go to next step\n      if a step has ready=true, the wizard also allows navigation *back* to it\n    hidden: Don't show step, though include in DOM (dynamic steps must be in DOM to determine if they will include themselves in wizard)\n    loading: Wizard will block until all steps are not loading\n    nextButton?: {\n      labelKey?: default to `wizard.next`\n      style?:  defaults to `btn role-primary`\n    },\n    previousButton: {\n      disable: defaults to false\n    }\n  }\n  */\n    steps: {\n      type:     Array,\n      required: true\n    },\n\n    // Initial step to show when Wizard loads.\n    initStepIndex: {\n      type:    Number,\n      default: 0\n    },\n\n    // if true, allow users to navigate back to the first step of the Wizard\n    // if false, only way back to step 1 is to cancel and undo all configuration\n    editFirstStep: {\n      type:    Boolean,\n      default: false\n    },\n\n    showBanner: {\n      type:    Boolean,\n      default: true,\n    },\n\n    // whether or not to show the overall title/image on left of banner header in first step\n    initialTitle: {\n      type:    Boolean,\n      default: true\n    },\n\n    // place the same title (e.g. the type of thing being created by wizard) on every page\n    bannerTitle: {\n      type:    String,\n      default: null\n    },\n\n    // circular image left of banner title\n    bannerImage: {\n      type:    String,\n      default: null\n    },\n\n    bannerTitleSubtext: {\n      type:    String,\n      default: null\n    },\n\n    // Verb shown in the header, defaults to finishMode\n    headerMode: {\n      type:    String,\n      default: null\n    },\n\n    // The set of labels to display for the finish AsyncButton\n    finishMode: {\n      type:    String,\n      default: 'finish'\n    },\n\n    // Errors to display above the buttons\n    errors: {\n      type:    Array,\n      default: null,\n    }\n  },\n\n  data() {\n    return { activeStep: null };\n  },\n\n  computed: {\n    errorStrings() {\n      return ( this.errors || [] ).map((x) => stringify(x));\n    },\n\n    activeStepIndex() {\n      return this.visibleSteps.findIndex((s) => s.name === this.activeStep.name);\n    },\n\n    showPrevious() {\n      // If on first step...\n      if (this.activeStepIndex === 0) {\n        return false;\n      }\n      // .. or any previous step isn't hidden\n      for (let stepIndex = 0; stepIndex < this.activeStepIndex; stepIndex++) {\n        const step = this.visibleSteps[stepIndex];\n\n        if (!step) {\n          break;\n        }\n        if (!step.hidden) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    canPrevious() {\n      return !this.activeStep?.previousButton?.disable && (this.activeStepIndex > 1 || this.editFirstStep);\n    },\n\n    canNext() {\n      return (this.activeStepIndex < this.visibleSteps.length - 1) && this.activeStep.ready;\n    },\n\n    readySteps() {\n      return this.visibleSteps.filter((step) => step.ready);\n    },\n\n    showSteps() {\n      return this.activeStep.showSteps !== false && this.visibleSteps.length > 1;\n    },\n\n    stepsLoaded() {\n      return !this.steps.some((step) => step.loading === true);\n    },\n\n    visibleSteps() {\n      return this.steps.filter((step) => !step.hidden);\n    },\n\n    nextButtonStyle() {\n      return this.activeStep.nextButton?.style || `btn role-primary`;\n    },\n    nextButtonLabel() {\n      return this.activeStep.nextButton?.labelKey || `wizard.next`;\n    }\n  },\n\n  watch: {\n    stepsLoaded(neu, old) {\n      if (!old && neu) {\n        this.activeStep = this.visibleSteps[this.initStepIndex];\n        this.goToStep(this.activeStepIndex + 1);\n      }\n    },\n    errors() {\n      // Ensurce we scroll the errors into view\n      this.$nextTick(() => {\n        this.$refs.wizard.scrollTop = this.$refs.wizard.scrollHeight;\n      });\n    }\n  },\n\n  created() {\n    this.activeStep = this.visibleSteps[this.initStepIndex];\n    this.goToStep(this.activeStepIndex + 1);\n  },\n\n  methods: {\n    goToStep(number, fromNav) {\n      if (number < 1) {\n        return;\n      }\n\n      // if editFirstStep is false, do not allow returning to step 1 (restarting wizard) from top nav\n      if (!this.editFirstStep && (number === 1 && fromNav)) {\n        return;\n      }\n\n      const selected = this.visibleSteps[number - 1];\n\n      if ( !selected || (!this.isAvailable(selected) && number !== 1)) {\n        return;\n      }\n\n      this.activeStep = selected;\n\n      this.$emit('next', { step: selected });\n    },\n\n    cancel() {\n      this.$emit('cancel');\n    },\n\n    finish(cb) {\n      this.$emit('finish', cb);\n    },\n\n    next() {\n      this.goToStep(this.activeStepIndex + 2);\n    },\n\n    back() {\n      this.goToStep(this.activeStepIndex);\n    },\n\n    // a step is not available if ready=false for any previous steps OR if the editFirstStep=false and it is the first step\n    isAvailable(step) {\n      if (!step) {\n        return false;\n      }\n\n      const idx = this.visibleSteps.findIndex((s) => s.name === step.name);\n\n      if (idx === 0 && !this.editFirstStep) {\n        return false;\n      }\n\n      for (let i = 0; i < idx; i++) {\n        if ( this.visibleSteps[i].ready === false ) {\n          return false;\n        }\n      }\n\n      return true;\n    },\n  }\n};\n</script>\n\n<template>\n  <div\n    ref=\"wizard\"\n    class=\"outer-container\"\n  >\n    <Loading\n      v-if=\"!stepsLoaded\"\n      mode=\"relative\"\n    />\n    <!-- Note - Don't v-else this.... the steps need to be included in order to update 'stepsLoaded' -->\n    <div\n      class=\"outer-container\"\n      :class=\"{'hide': !stepsLoaded}\"\n    >\n      <div class=\"header\">\n        <div class=\"title\">\n          <div\n            v-if=\"showBanner\"\n            class=\"top choice-banner\"\n          >\n            <slot\n              v-if=\"!!bannerImage || !!bannerTitle\"\n              name=\"bannerTitle\"\n            >\n              <div\n                v-show=\"initialTitle || activeStepIndex > 0\"\n                class=\"title\"\n              >\n                <!-- Logo -->\n                <slot name=\"bannerTitleImage\">\n                  <div\n                    v-if=\"bannerImage\"\n                    class=\"round-image\"\n                  >\n                    <LazyImage\n                      :src=\"bannerImage\"\n                      class=\"logo\"\n                    />\n                  </div>\n                </slot>\n                <!-- Title with subtext -->\n                <div class=\"subtitle\">\n                  <h2 v-if=\"bannerTitle\">\n                    {{ bannerTitle }}\n                  </h2>\n                  <span\n                    v-if=\"bannerTitleSubtext\"\n                    class=\"subtext\"\n                  >{{ bannerTitleSubtext }}</span>\n                </div>\n              </div>\n            </slot>\n            <!-- Step number with subtext -->\n            <div\n              v-if=\"activeStep && showSteps\"\n              class=\"subtitle\"\n            >\n              <h2>{{ !!headerMode ? t(`wizard.${headerMode}`) : t(`asyncButton.${finishMode}.action`) }}: {{ t('wizard.step', {number:activeStepIndex+1}) }}</h2>\n              <slot name=\"bannerSubtext\">\n                <span\n                  v-if=\"activeStep.subtext !== null\"\n                  class=\"subtext\"\n                >{{ activeStep.subtext || activeStep.label }}</span>\n              </slot>\n            </div>\n          </div>\n          <div class=\"step-sequence\">\n            <ul\n              v-if=\"showSteps\"\n              class=\"steps\"\n              tabindex=\"0\"\n              @keyup.right.stop=\"selectNext(1)\"\n              @keyup.left.stop=\"selectNext(-1)\"\n            >\n              <template v-for=\"(step, idx ) in visibleSteps\">\n                <li\n\n                  :id=\"step.name\"\n                  :key=\"step.name+'li'\"\n                  :class=\"{step: true, active: step.name === activeStep.name, disabled: !isAvailable(step)}\"\n                  role=\"presentation\"\n                >\n                  <span\n                    :aria-controls=\"'step' + idx+1\"\n                    :aria-selected=\"step.name === activeStep.name\"\n                    role=\"tab\"\n                    class=\"controls\"\n                    @click.prevent=\"goToStep(idx+1, true)\"\n                  >\n                    <span\n                      class=\"icon icon-lg\"\n                      :class=\"{'icon-dot': step.name === activeStep.name, 'icon-dot-open':step.name !== activeStep.name}\"\n                    />\n                    <span>\n                      {{ step.label }}\n                    </span>\n                  </span>\n                </li>\n                <div\n                  v-if=\"idx!==visibleSteps.length-1\"\n                  :key=\"step.name\"\n                  class=\"divider\"\n                />\n              </template>\n            </ul>\n          </div>\n        </div>\n      </div>\n      <slot\n        class=\"step-container\"\n        name=\"stepContainer\"\n        :activeStep=\"activeStep\"\n      >\n        <template v-for=\"step in steps\">\n          <div\n            v-if=\"step.name === activeStep.name || step.hidden\"\n            :key=\"step.name\"\n            class=\"step-container__step\"\n            :class=\"{'hide': step.name !== activeStep.name && step.hidden}\"\n          >\n            <slot\n              :step=\"step\"\n              :name=\"step.name\"\n            />\n          </div>\n        </template>\n      </slot>\n      <slot\n        name=\"controlsContainer\"\n        :showPrevious=\"showPrevious\"\n        :next=\"next\"\n        :back=\"back\"\n        :canNext=\"canNext\"\n        :activeStepIndex=\"activeStepIndex\"\n        :visibleSteps=\"visibleSteps\"\n        :errorStrings=\"errorStrings\"\n        :finish=\"finish\"\n        :cancel=\"cancel\"\n        :activeStep=\"activeStep\"\n      >\n        <div\n          v-for=\"(err,idx) in errorStrings\"\n          :key=\"idx\"\n        >\n          <Banner\n            color=\"error\"\n            :label=\"err\"\n            :closable=\"true\"\n            class=\"footer-error\"\n            @close=\"errors.splice(idx, 1)\"\n          />\n        </div>\n        <div\n          id=\"wizard-footer-controls\"\n          class=\"controls-row pt-20\"\n        >\n          <slot\n            name=\"cancel\"\n            :cancel=\"cancel\"\n          >\n            <button\n              type=\"button\"\n              class=\"btn role-secondary\"\n              @click=\"cancel\"\n            >\n              <t k=\"generic.cancel\" />\n            </button>\n          </slot>\n          <div class=\"controls-steps\">\n            <slot\n              v-if=\"showPrevious\"\n              name=\"back\"\n              :back=\"back\"\n            >\n              <button\n                :disabled=\"!canPrevious || (!editFirstStep && activeStepIndex===1)\"\n                type=\"button\"\n                class=\"btn role-secondary\"\n                @click=\"back()\"\n              >\n                <t k=\"wizard.previous\" />\n              </button>\n            </slot>\n            <slot\n              v-if=\"activeStepIndex === visibleSteps.length-1\"\n              name=\"finish\"\n              :finish=\"finish\"\n            >\n              <AsyncButton\n                :disabled=\"!activeStep.ready\"\n                :mode=\"finishMode\"\n                @click=\"finish\"\n              />\n            </slot>\n            <slot\n              v-else\n              name=\"next\"\n              :next=\"next\"\n            >\n              <button\n                :disabled=\"!canNext\"\n                type=\"button\"\n                :class=\"nextButtonStyle\"\n                @click=\"next()\"\n              >\n                <t :k=\"nextButtonLabel\" />\n              </button>\n            </slot>\n          </div>\n        </div>\n      </slot>\n    </div>\n  </div>\n</template>\n\n<style lang='scss' scoped>\n$spacer: 10px;\n\n.outer-container {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  padding: 0;\n  justify-content: flex-start;\n}\n\n.header {\n  display: flex;\n  align-content: space-between;\n  align-items: center;\n  margin-bottom: 2*$spacer;\n\n  border-bottom: var(--header-border-size) solid var(--header-border);\n\n $minHeight: 60px;\n  & > .title {\n    flex: 1;\n    min-height: $minHeight;\n    display: flex;\n  }\n  .step-sequence {\n    flex:1;\n    min-height: $minHeight;\n    display: flex;\n\n    .steps {\n      flex: 1;\n      margin: 0 30px;\n      display:flex;\n      justify-content: space-between;\n      list-style-type:none;\n      padding: 0;\n\n      &:focus{\n          outline:none;\n          box-shadow: none;\n      }\n\n      & li.step{\n        display: flex;\n        flex-direction: row;\n        flex-grow: 1;\n        align-items: center;\n\n        & > span > span:last-of-type {\n          padding-bottom: 0;\n        }\n\n        &:last-of-type{\n          flex-grow: 0;\n        }\n\n        & .controls {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          width: 40px;\n          overflow: visible;\n          padding-top: 7px;\n\n          & > span {\n            padding-bottom: 3px;\n            margin-bottom: 5px;\n            white-space: nowrap;\n          }\n        }\n\n        &.active .controls{\n          color: var(--primary);\n        }\n\n        &:not(.disabled){\n          & .controls:hover>*{\n              color: var(--primary) !important;\n              cursor: pointer;\n          }\n        }\n\n        &:not(.active) {\n          & .controls>*{\n            color: var(--input-disabled-text);\n            text-decoration: none;\n          }\n        }\n      }\n\n      & .divider {\n        flex-basis: 100%;\n        border-top: 1px solid var(--border);\n        position: relative;\n        top: 17px;\n\n        .cru__content & {\n          top: 13px;\n        }\n      }\n    }\n  }\n\n  .choice-banner {\n\n    flex-basis: 40%;\n    display: flex;\n    align-items: center;\n    margin-bottom: $spacer;\n\n    &.selected{\n      background-color: var(--accent-btn);\n    }\n\n    &.top {\n\n      H2 {\n        margin: 0px;\n      }\n\n      .title{\n        display: flex;\n        align-items: center;\n        justify-content: space-evenly;\n        position: relative;\n\n        & > .subtitle {\n          margin-right: 20px;\n        }\n      }\n\n      .subtitle{\n        display: flex;\n        flex-direction: column;\n        & .subtext {\n          color: var(--input-label);\n        }\n      }\n\n    }\n\n    &:not(.top){\n      box-shadow: 0px 0px 12px 3px var(--box-bg);\n      flex-direction: row;\n      align-items: center;\n      justify-content: start;\n      &:hover{\n        outline: var(--outline-width) solid var(--outline);\n        cursor: pointer;\n      }\n    }\n\n    & .round-image {\n      min-width: 50px;\n      height: 50px;\n      margin: 10px 10px 10px 0;\n      border-radius: 50%;\n      overflow: hidden;\n      .logo {\n        min-width: 50px;\n        height: 50px;\n      }\n    }\n  }\n}\n\n.step-container {\n  position: relative; // Important for loading indicator in chart's with custom form components\n  flex: 1 1 auto;\n  height: 0;\n  overflow-y: auto;\n  padding: 20px 2px 2px 2px; // Handle borders flush against edge\n  display: flex;\n  flex-direction: column;\n\n  &__step {\n    overflow: hidden;\n    display: flex;\n    flex-direction: column;\n    flex: 1;\n  }\n}\n\n// We have to account for the absolute position of the .controls-row\n.footer-error {\n  margin-top: -40px;\n  margin-bottom: 70px;\n}\n\n  .controls-row {\n\n    // Overrides outlet padding\n    margin-left: -$space-m;\n    margin-right: -$space-m;\n    padding: $space-s $space-m;\n\n    display: flex;\n    justify-content: space-between;\n    padding-top: $spacer;\n\n    border-top: var(--header-border-size) solid var(--header-border);\n    position: absolute;\n    bottom: 0;\n    width: 100%;\n    background: var(--body-bg);\n    .controls-steps {\n\n      .btn {\n        margin-left: $spacer;\n      }\n    }\n  }\n\n</style>\n"],"mappings":"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","ignoreList":[]}]}